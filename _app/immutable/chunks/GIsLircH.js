import{w as s}from"./DWi8nBnj.js";import{s as c}from"./CMGnaNZv.js";import{f as u}from"./qVDKZIav.js";function i(e,t){if(!c("localStorage"))return t;let n=localStorage.getItem(e);return n?JSON.parse(n):t}function r(e,t){c("localStorage")&&localStorage.setItem(e,JSON.stringify(t))}function C(){m.set([]),p.set({}),d.set([]),f.set([]),l.set(""),g.set([]),k.set([])}const d=s(i("endlessQuizQuestions",[]).map(e=>{let t=u.find(n=>n.id===e);return t||e}));d.subscribe(e=>r("endlessQuizQuestions",e.map(t=>t.id)));const m=s(i("quizQuestions",[]).map(e=>({question:u.find(t=>t.id===e.id),answer:e.answer,answered:e.answered})));m.subscribe(e=>r("quizQuestions",e.map(t=>({id:t.question.id,answer:t.answer,answered:t.answered}))));const b={};function q(){let e=i("quizHistory",b);for(let[t,n]of Object.entries(e))e[t]=n.map(o=>({...o,question:u.find(a=>a.id===o.question),date:new Date(o.date)}));return e}function Q(e){let t=b;for(let[n,o]of Object.entries(e))t[n]=o.map(a=>({...a,question:a.question.id,date:a.date.toJSON()}));return t}const p=s(q());p.subscribe(e=>r("quizHistory",Q(e)));const f=s(i("trainingChapters",[]));f.subscribe(e=>r("trainingChapters",e));const l=s(i("trainingLastChapter",""));l.subscribe(e=>r("trainingLastChapter",e));const g=s(i("bookmarks",[]).map(e=>u.find(t=>t.id===e)));g.subscribe(e=>r("bookmarks",e.map(t=>t.id)));const k=s(i("trainedBookmarks",[]).map(e=>u.find(t=>t.id===e)));k.subscribe(e=>r("trainedBookmarks",e.map(t=>t.id)));const y=s(i("theme",""));y.subscribe(e=>r("theme",e));const z=s(i("version",0));z.subscribe(e=>r("version",e));export{l as a,g as b,k as c,m as d,d as e,y as f,C as g,p as q,f as t,z as v};
