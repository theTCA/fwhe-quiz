import{s as L,a as d,f as m,c as kt,d as Ft}from"../chunks/NT8NRc0h.js";import{o as Mt}from"../chunks/DWi8nBnj.js";import{p as mt,c as r,s as n,r as a,t as ot,a as _t,n as rt,g as t,b as s,o as nt,e as z,f as D,i as ht,d as Pt,$ as Wt,u as st}from"../chunks/DN6A0naj.js";import{i as C,s as Ht,b as at,a as xt,c as yt}from"../chunks/kWoj3Qxl.js";import{e as Qt}from"../chunks/SrmGGwdX.js";import{h as It,P as Ct}from"../chunks/CGRCA45q.js";import{s as zt,I as wt,r as it,e as Et,b as Nt}from"../chunks/XaqINB52.js";import{a as Ot,b as Rt,c as St}from"../chunks/DDgTMA0v.js";import{a as qt}from"../chunks/CMGnaNZv.js";import{c as bt}from"../chunks/DfCi-hmE.js";import{f as Bt}from"../chunks/qVDKZIav.js";import{Q as Dt}from"../chunks/CgF8TCyV.js";import{r as Lt}from"../chunks/BYfBAJde.js";import{d as K,q as ft}from"../chunks/GIsLircH.js";var Ut=m('<a class="flex items-center gap-1 rounded-md bg-base-200 p-1" target="_blank"><!> <div class="flex flex-1 flex-col text-left"><h3 class="mb-1 font-semibold"> </h3> <div class="p-2 pt-0 pl-1 text-sm"><span class="mr-1 font-semibold">Antwort:</span> </div></div></a>');function Zt(U,c){mt(c,!0);var _=Ut(),g=r(_);{var A=i=>{wt(i,{class:"h-6 w-6 rounded-full border border-base-200 text-success",icon:"carbon:checkmark-filled"})},O=i=>{wt(i,{class:"h-6 w-6 rounded-full border border-base-200 text-error",icon:"carbon:close-filled"})};C(g,i=>{c.question.choices.find(b=>b.answer)?.text===c.answer?i(A):i(O,!1)})}var j=n(g,2),u=r(j),f=r(u,!0);a(u);var x=n(u,2),p=n(r(x),1,!0);a(x),a(j),a(_),ot(i=>{zt(_,"href",i),L(f,c.question.question),L(p,c.answer.length>0?c.answer:"-")},[()=>Lt("/search")+`#question-${c.question.id}`]),d(U,_),_t()}var Gt=m('<div class="text-center">&vellip;</div>'),Jt=m('<div><div class="mb-4 grid grid-cols-1 items-end gap-4 lg:grid-cols-3"><div><div class="text-center text-lg font-bold"> </div> <h3 class="text-center text-sm font-semibold opacity-70">Fragen</h3></div> <div class="inline-flex flex-col gap-2"><div class="radial-progress self-center font-bold text-primary" role="progressbar"> </div> <h3 class="text-center text-sm font-semibold opacity-70">richtige Antworten</h3></div> <div><div class="text-center text-lg font-bold"> </div> <h3 class="text-center text-sm font-semibold opacity-70">falsche Antworten</h3></div></div> <div class="divider"></div> <div class="relative mb-2 flex items-center justify-center"><h2 class="text-center text-xl font-semibold text-primary">Fragen</h2> <label class="absolute right-0 flex items-center gap-2 text-sm">nur Falsche <input class="toggle toggle-primary toggle-sm" type="checkbox"/></label></div> <div class="mb-2 flex flex-col gap-2"><!></div></div>');function Kt(U,c){mt(c,!0);let _=nt(()=>c.questions.reduce((v,e)=>e.question.choices.find(o=>o.answer)?.text===e.answer?v+1:v,0)),g=nt(()=>Math.round(t(_)/c.questions.length*100)),A=z(!0),O=nt(()=>c.questions.filter(v=>t(A)?v.question.choices.find(e=>e.answer)?.text!==v.answer:!0));var j=Jt(),u=r(j),f=r(u),x=r(f),p=r(x,!0);a(x),rt(2),a(f);var i=n(f,2),b=r(i),F=r(b,!0);a(b),rt(2),a(i);var y=n(i,2),Z=r(y),T=r(Z,!0);a(Z),rt(2),a(y),a(u);var R=n(u,4),V=n(r(R),2),X=n(r(V));it(X),a(V),a(R);var S=n(R,2),G=r(S);{var lt=v=>{var e=kt(),o=D(e);Qt(o,17,()=>t(O),w=>w.question.id,(w,M)=>{Zt(w,{get question(){return t(M).question},get answer(){return t(M).answer}})}),d(v,e)},ut=v=>{var e=Gt();d(v,e)};C(G,v=>{t(O).length>0?v(lt):v(ut,!1)})}a(S),a(j),ot(()=>{L(p,c.questions.length),Et(b,`--value:${t(g)};`),L(F,`${t(g)}%`),L(T,c.questions.length-t(_))}),Ot(X,()=>t(A),v=>s(A,v)),d(U,j),_t()}var Tt=m('<label class="label flex cursor-pointer items-center gap-2 rounded-md bg-base-200 p-2 select-none"><input class="checkbox rounded-full bg-base-100 text-primary" type="checkbox"/> <span class="text-base-content"> </span></label>'),Vt=m('<button class="btn w-[50%] btn-primary" type="button">Start</button>'),Xt=m('<button class="btn w-[50%]" type="button" disabled>Start</button>'),Yt=m('<div class="mb-4 flex flex-col gap-2"><div><h3 class="mb-2 font-semibold">Anzahl Fragen</h3> <div class="join"><button class="btn join-item btn-sm" type="button">Min</button> <button class="btn join-item btn-sm" type="button">-1</button> <input class="input input-sm join-item w-full text-center lg:w-auto" type="number"/> <button class="btn join-item btn-sm" type="button">+1</button> <button class="btn join-item btn-sm" type="button">+5</button></div></div> <div><h3 class="mb-2 font-semibold">Fragenkataloge</h3> <div class="flex flex-col gap-2"><div class="mb-2 grid grid-cols-1 gap-2 lg:grid-cols-2"><label class="label flex cursor-pointer items-center gap-2 rounded-md bg-base-200 p-2 select-none"><input class="checkbox rounded-full bg-base-100 text-primary" type="checkbox"/> <span class="text-base-content">Alle</span></label></div> <div class="grid grid-cols-1 gap-2 lg:grid-cols-2"></div></div></div></div> <div class="mb-4 flex justify-center"><!></div>',1),$t=m('<button class="btn btn-primary" type="button">Weiter</button>'),te=m('<button class="btn btn-primary" type="button">Wählen</button>'),ee=m('<button class="btn btn-outline btn-primary" type="button">Wählen</button>'),se=m('<!> <div class="mt-2 mb-4 grid w-full grid-cols-2 gap-2"><button class="btn btn-outline btn-error" type="button">Abbrechen</button> <!></div>',1),ae=m('<!> <div class="mb-4 grid w-full grid-cols-2 gap-2"><button class="btn btn-outline btn-error" type="button">Zurück</button> <button class="btn btn-primary" type="button">Erneut</button></div>',1),re=m("<!> <!>",1),ne=m('<div><h1 class="mb-2 text-center text-3xl font-semibold">Quiz</h1> <!></div>');function xe(U,c){mt(c,!0);const _=()=>xt(K,"$quizQuestions",A),g=()=>xt(ft,"$quizHistory",A),[A,O]=Ht(),j=[];let u=z(15),f=z(ht([])),x=z(!1),p=z(void 0),i=z(ht([])),b=z(void 0),F=z(!1),y=z(!1);Mt(()=>{_().length>0&&(s(i,[..._().filter(e=>!e.answered).map(e=>e.question)],!0),t(i).length>0?(s(p,t(i).shift(),!0),s(b,""),s(F,!1),s(x,!0),s(y,!1)):at(K,[]))});function Z(){let e=Bt.filter(o=>t(f).includes(o.catalog)).map(o=>({...o,choices:qt(o.choices)}));qt(e),s(i,e.slice(0,t(u)),!0),at(K,[...t(i)].map(o=>({question:o,answer:"",answered:!1}))),s(F,!1),s(b,""),s(p,t(i).shift(),!0),s(x,!0),s(y,!1)}function T(){s(F,!1),s(b,""),t(i).length>0?s(p,t(i).shift(),!0):s(y,!0)}function R(){if(t(p)){"quiz"in g()||yt(ft,st(g).quiz=[],st(g)),yt(ft,st(g).quiz=[{question:t(p),answer:t(b)||"",date:new Date},...g().quiz],st(g));let e=_().find(o=>o.question.id===t(p)?.id);if(!e)return;e.answer=t(b)||"",e.answered=!0,at(K,_())}s(F,!0),T()}function V(){s(x,!1),s(F,!1),s(y,!1),at(K,[])}function X(){t(f).length>0?s(f,[],!0):s(f,bt.map(e=>e.name),!0)}function S(e){t(u)+e>0?s(u,t(u)+e):s(u,1)}var G=ne();It("1eaotym",e=>{Pt(()=>{Wt.title=`Quiz - ${Ct}`})});var lt=n(r(G),2);{var ut=e=>{var o=Yt(),w=D(o),M=r(w),Y=n(r(M),2),$=r(Y);$.__click=()=>s(u,1);var q=n($,2);q.__click=()=>S(-1);var k=n(q,2);it(k),zt(k,"min",1);var P=n(k,2);P.__click=()=>S(1);var E=n(P,2);E.__click=()=>S(5),a(Y),a(M);var W=n(M,2),B=n(r(W),2),N=r(B),tt=r(N),h=r(tt);it(h),h.__click=X,rt(2),a(tt),a(N);var H=n(N,2);Qt(H,21,()=>bt,l=>l.name,(l,Q)=>{var dt=Tt(),J=r(dt);it(J);var gt,pt=n(J,2),At=r(pt,!0);a(pt),a(dt),ot(()=>{gt!==(gt=t(Q).name)&&(J.value=(J.__value=t(Q).name)??""),L(At,t(Q).name)}),Rt(j,[],J,()=>(t(Q).name,t(f)),jt=>s(f,jt)),d(l,dt)}),a(H),a(B),a(W),a(w);var et=n(w,2),ct=r(et);{var vt=l=>{var Q=Vt();Q.__click=Z,d(l,Q)},I=l=>{var Q=Xt();d(l,Q)};C(ct,l=>{t(f).length>0&&t(u)>0?l(vt):l(I,!1)})}a(et),ot(()=>Nt(h,bt.length===t(f).length)),St(k,()=>t(u),l=>s(u,l)),d(e,o)},v=e=>{var o=re(),w=D(o);{var M=q=>{var k=se(),P=D(k);Dt(P,{get question(){return t(p)},get answer(){return t(b)},set answer(h){s(b,h,!0)}});var E=n(P,2),W=r(E);W.__click=()=>s(y,!0);var B=n(W,2);{var N=h=>{var H=$t();H.__click=T,d(h,H)},tt=h=>{var H=kt(),et=D(H);{var ct=I=>{var l=te();l.__click=R,d(I,l)},vt=I=>{var l=ee();l.__click=R,d(I,l)};C(et,I=>{t(b)&&t(b).length>0?I(ct):I(vt,!1)},!0)}d(h,H)};C(B,h=>{t(F)?h(N):h(tt,!1)})}a(E),d(q,k)};C(w,q=>{t(p)&&!t(y)&&q(M)})}var Y=n(w,2);{var $=q=>{var k=ae(),P=D(k);{let N=nt(()=>[..._()]);Kt(P,{get questions(){return t(N)}})}var E=n(P,2),W=r(E);W.__click=V;var B=n(W,2);B.__click=Z,a(E),d(q,k)};C(Y,q=>{t(y)&&q($)})}d(e,o)};C(lt,e=>{t(x)?e(v,!1):e(ut)})}a(G),d(U,G),_t(),O()}Ft(["click"]);export{xe as component};
