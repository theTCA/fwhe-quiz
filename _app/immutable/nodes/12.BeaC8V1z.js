import{c as be,a as l,t as n,h as he,e as te,s as B}from"../chunks/disclose-version.BWTWBhB4.js";import{i as xe,P as ge}from"../chunks/public.Dj7Vthdi.js";import{f as le,c as t,s as o,r as a,t as w,p as we,a0 as re,a1 as ye,a as ke,b as h,$ as Ce,g as e,m as E,a2 as Le,a3 as Pe}from"../chunks/runtime.BtXH3TXM.js";import{p as se,i as R}from"../chunks/props.CqWHPKN1.js";import{e as F,i as N}from"../chunks/each.DRxh5sp6.js";import{r as X,a as $e,I as V,s as W}from"../chunks/Icon.BPb3u_LU.js";import{b as Ie,a as Qe}from"../chunks/input.cFgeiN8w.js";import{p as je}from"../chunks/event-modifiers.CWmzcjye.js";import{o as Ae}from"../chunks/index-client.C__TUGa-.js";import{i as ie,c as De}from"../chunks/data.CxUiFjb2.js";import{s as oe}from"../chunks/slot.DMeDLYQD.js";import{Q as He}from"../chunks/QuestionHelp.DK4dt6bz.js";var Me=n('<div class="collapse bg-base-200"><input type="checkbox"> <div class="collapse-title"><!></div> <div class="collapse-content overflow-y-auto"><!></div></div>');function Ue(S,y){let f=se(y,"hidden",8,!1),$=se(y,"open",8,!1);var v=be(),k=le(v);{var H=I=>{var Q=Me(),x=t(Q);X(x);var g=o(x,2),j=t(g);oe(j,y,"title",{}),a(g);var C=o(g,2),A=t(C);oe(A,y,"content",{}),a(C),a(Q),w(()=>$e(x,$())),l(I,Q)};R(k,I=>{f()||I(H)})}l(S,v)}var Be=n('<div class="form-control"><label class="label"><span class="label-text"> </span> <input class="toggle toggle-primary" type="checkbox"></label></div>'),Ee=n('<div slot="title" class="font-semibold select-none"> </div>'),Fe=n('<div class="w-32 h-32 mx-auto py-1"><img></div>'),Ne=n('<span class="h-6 w-6 border border-primary rounded-full"></span>'),Re=n('<div class="flex items-center gap-2 p-1.5 border-2 border-base-200 rounded-md"><!> <div class="flex-1 text-sm lg:text-base"> </div></div>'),Se=n('<div class="divider font-semibold">Hilfe</div> <!>',1),Te=n('<div slot="content"><!> <div class="mb-2"></div> <!></div>'),qe=n('<div class="flex flex-col gap-1"><span class="font-bold text-lg text-primary"> </span> <div class="flex flex-col gap-1"></div></div>'),ze=n('<div><h1 class="text-3xl text-center font-semibold mb-2">Durchsuchen</h1> <form class="mx-auto flex flex-col gap-2 w-3/4 lg:w-2/3"><div class="join flex"><div class="flex-1 relative"><input class="join-item input input-bordered w-full" type="text" placeholder="Suche"> <button class="absolute right-4 top-4 text-error" type="button"><!></button></div> <button class="join-item btn btn-primary" type="submit"><!></button></div> <div class="px-4"></div></form> <div class="divider"></div> <div><div class="flex flex-col gap-3"></div></div></div>');function ra(S,y){we(y,!1);const f=E(),$=E();let v=E("");Ae(()=>{h($,parseInt(new URL(window.location.href).hash.replace("#","")))});const k=E([{name:"Fragen",value:!0},{name:"Antworten",value:!1}]);function H(){e(v).length>0?h(f,x().map(r=>({...r,questions:r.questions.map(s=>({...s,hidden:!Q(s)}))})).filter(r=>r.questions.reduce((s,d)=>d.hidden?s:s+1,0)>0)):h(f,x()),h(f,e(f))}function I(){h(v,""),H()}function Q(r){var s,d;return!!((s=e(k).at(0))!=null&&s.value&&r.question.toLowerCase().includes(e(v).toLowerCase())||(d=e(k).at(1))!=null&&d.value&&r.choices.some(c=>c.text.toLowerCase().includes(e(v).toLowerCase())))}function x(){return De.map(r=>({name:r.name,questions:r.questions.map(s=>({...s,hidden:!1}))}))}re(()=>{},()=>{h(f,x())}),re(()=>{},()=>{h($,0)}),ye(),xe();var g=ze();he(r=>{Ce.title=`Durchsuchen - ${ge??""}`});var j=o(t(g),2),C=t(j),A=t(C),T=t(A);X(T);var q=o(T,2),ne=t(q);V(ne,{icon:"material-symbols:close"}),a(q),a(A);var z=o(A,2),ve=t(z);V(ve,{icon:"material-symbols:search"}),a(z),a(C);var Y=o(C,2);F(Y,5,()=>e(k),N,(r,s,d)=>{var c=Be(),M=t(c),L=t(M),G=t(L,!0);a(L);var i=o(L,2);X(i),a(M),a(c),w(()=>B(G,e(s).name)),Qe(i,()=>e(s).value,J=>(e(s).value=J,Le(()=>e(k)))),l(r,c)}),a(Y),a(j);var Z=o(j,4),ee=t(Z);F(ee,5,()=>e(f),N,(r,s)=>{var d=qe(),c=t(d),M=t(c,!0);a(c);var L=o(c,2);F(L,5,()=>e(s).questions,N,(G,i)=>{var J=Pe(()=>e(i).id===e($));Ue(G,{get open(){return e(J)},get hidden(){return e(i).hidden},$$slots:{title:(K,de)=>{var u=Ee(),U=t(u,!0);a(u),w(()=>{W(u,"id",""+e(i).id),B(U,e(i).question)}),l(K,u)},content:(K,de)=>{var u=Te(),U=t(u);{var ce=p=>{var m=Fe(),_=t(m);w(()=>{var b;return W(_,"src",`./img/${(b=ie.find(D=>D.id===e(i).image))==null?void 0:b.file}`)}),w(()=>{var b;return W(_,"alt",(b=ie.find(D=>D.id===e(i).image))==null?void 0:b.description)}),a(m),l(p,m)};R(U,p=>{e(i).image&&p(ce)})}var O=o(U,2);F(O,5,()=>e(i).choices,N,(p,m)=>{var _=Re(),b=t(_);{var D=P=>{V(P,{class:"h-6 w-6 text-success border border-primary rounded-full",icon:"carbon:checkmark-filled"})},fe=P=>{var _e=Ne();l(P,_e)};R(b,P=>{e(m).answer?P(D):P(fe,!1)})}var ae=o(b,2),ue=t(ae,!0);a(ae),a(_),w(()=>B(ue,e(m).text)),l(p,_)}),a(O);var pe=o(O,2);{var me=p=>{var m=Se(),_=o(le(m),2);He(_,{get question(){return e(i)}}),l(p,m)};R(pe,p=>{e(i).help.length>0&&p(me)})}a(u),l(K,u)}}})}),a(L),a(d),w(()=>B(M,e(s).name)),l(r,d)}),a(ee),a(Z),a(g),Ie(T,()=>e(v),r=>h(v,r)),te("click",q,I),te("click",z,je(H)),l(S,g),ke()}export{ra as component};
