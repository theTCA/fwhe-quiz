import{s as Te,e as f,a as O,t as X,c as d,b as y,f as _,g as D,d as Y,o as p,i as G,h as o,j as ne,l as Qe,m as z,p as Me,k as Re,x as Q,y as Se,z as ue,r as ge,A as Ue,q as qe,B as Pe}from"../chunks/scheduler.CcYdLy-s.js";import{S as ze,i as He,g as je,a as Z,e as Le,t as U,c as Ce,b as be,m as xe,d as Ee}from"../chunks/index.BAfUXEGy.js";import{P as Ge,e as Ve}from"../chunks/public.DSIcp1HN.js";import{I as Be}from"../chunks/Icon.bT9W7rj3.js";import{q as me}from"../chunks/stores.5FF7D3Yz.js";function Je(n){let t,e,l;return e=new Be({props:{icon:"mdi:close"}}),{c(){t=f("span"),Ce(e.$$.fragment),this.h()},l(s){t=d(s,"SPAN",{class:!0});var a=y(t);be(e.$$.fragment,a),a.forEach(_),this.h()},h(){p(t,"class","text-error")},m(s,a){G(s,t,a),xe(e,t,null),l=!0},i(s){l||(U(e.$$.fragment,s),l=!0)},o(s){Z(e.$$.fragment,s),l=!1},d(s){s&&_(t),Ee(e)}}}function Ke(n){let t,e,l;return e=new Be({props:{icon:"mdi:tick"}}),{c(){t=f("span"),Ce(e.$$.fragment),this.h()},l(s){t=d(s,"SPAN",{class:!0});var a=y(t);be(e.$$.fragment,a),a.forEach(_),this.h()},h(){p(t,"class","text-success")},m(s,a){G(s,t,a),xe(e,t,null),l=!0},i(s){l||(U(e.$$.fragment,s),l=!0)},o(s){Z(e.$$.fragment,s),l=!1},d(s){s&&_(t),Ee(e)}}}function We(n){let t,e,l,s,a,r,h=n[0].question.question+"",C,i;const $=[Ke,Je],x=[];function b(c,E){var v;return c[1]&&((v=c[1])==null?void 0:v.text)===c[0].answer?0:1}return l=b(n),s=x[l]=$[l](n),{c(){t=f("div"),e=f("div"),s.c(),a=O(),r=f("div"),C=X(h),this.h()},l(c){t=d(c,"DIV",{class:!0});var E=y(t);e=d(E,"DIV",{class:!0});var v=y(e);s.l(v),v.forEach(_),a=D(E),r=d(E,"DIV",{class:!0});var I=y(r);C=Y(I,h),I.forEach(_),E.forEach(_),this.h()},h(){p(e,"class","w-6 h-6 inline-flex items-center"),p(r,"class","flex-1 font-semibold"),p(t,"class","flex items-center gap-1")},m(c,E){G(c,t,E),o(t,e),x[l].m(e,null),o(t,a),o(t,r),o(r,C),i=!0},p(c,[E]){let v=l;l=b(c),l!==v&&(je(),Z(x[v],1,1,()=>{x[v]=null}),Le(),s=x[l],s||(s=x[l]=$[l](c),s.c()),U(s,1),s.m(e,null)),(!i||E&1)&&h!==(h=c[0].question.question+"")&&ne(C,h)},i(c){i||(U(s),i=!0)},o(c){Z(s),i=!1},d(c){c&&_(t),x[l].d()}}}function Xe(n,t,e){let{history:l}=t,s=l.question.choices.find(a=>a.answer);return n.$$set=a=>{"history"in a&&e(0,l=a.history)},[l,s]}class Ye extends ze{constructor(t){super(),He(this,t,Xe,We,Te,{history:0})}}function Oe(n,t,e){const l=n.slice();return l[10]=t[e],l}function De(n){let t=`(${n[0][n[3].catalog].incorrect})`,e;return{c(){e=X(t)},l(l){e=Y(l,t)},m(l,s){G(l,e,s)},p(l,s){s&9&&t!==(t=`(${l[0][l[3].catalog].incorrect})`)&&ne(e,t)},d(l){l&&_(e)}}}function we(n){let t,e,l="Letzten",s,a,r,h="10",C,i="20",$,x="50",b,c,E,v,I,V="Fragen",L,B;return{c(){t=f("div"),e=f("span"),e.textContent=l,s=O(),a=f("select"),r=f("option"),r.textContent=h,C=f("option"),C.textContent=i,$=f("option"),$.textContent=x,b=f("option"),c=X("Alle"),v=O(),I=f("span"),I.textContent=V,this.h()},l(T){t=d(T,"DIV",{class:!0});var g=y(t);e=d(g,"SPAN",{class:!0,"data-svelte-h":!0}),z(e)!=="svelte-1hd3l8e"&&(e.textContent=l),s=D(g),a=d(g,"SELECT",{class:!0});var P=y(a);r=d(P,"OPTION",{"data-svelte-h":!0}),z(r)!=="svelte-18d3dpq"&&(r.textContent=h),C=d(P,"OPTION",{"data-svelte-h":!0}),z(C)!=="svelte-1k18a0a"&&(C.textContent=i),$=d(P,"OPTION",{"data-svelte-h":!0}),z($)!=="svelte-ujtx1y"&&($.textContent=x),b=d(P,"OPTION",{});var F=y(b);c=Y(F,"Alle"),F.forEach(_),P.forEach(_),v=D(g),I=d(g,"SPAN",{class:!0,"data-svelte-h":!0}),z(I)!=="svelte-1bb7q2z"&&(I.textContent=V),g.forEach(_),this.h()},h(){p(e,"class","font-bold"),r.__value=10,Q(r,r.__value),C.__value=20,Q(C,C.__value),$.__value=50,Q($,$.__value),b.__value=E=n[1].length,Q(b,b.__value),p(a,"class","select select-bordered select-sm"),n[5]===void 0&&Se(()=>n[8].call(a)),p(I,"class","font-bold"),p(t,"class","flex flex-row items-center gap-2")},m(T,g){G(T,t,g),o(t,e),o(t,s),o(t,a),o(a,r),o(a,C),o(a,$),o(a,b),o(b,c),ue(a,n[5],!0),o(t,v),o(t,I),L||(B=ge(a,"change",n[8]),L=!0)},p(T,g){g&2&&E!==(E=T[1].length)&&(b.__value=E,Q(b,b.__value)),g&34&&ue(a,T[5])},d(T){T&&_(t),L=!1,B()}}}function Ne(n){let t,e;return t=new Ye({props:{history:n[10]}}),{c(){Ce(t.$$.fragment)},l(l){be(t.$$.fragment,l)},m(l,s){xe(t,l,s),e=!0},p(l,s){const a={};s&34&&(a.history=l[10]),t.$set(a)},i(l){e||(U(t.$$.fragment,l),e=!0)},o(l){Z(t.$$.fragment,l),e=!1},d(l){Ee(t,l)}}}function Ae(n){let t,e,l="ältesten",s,a,r,h,C="10",i,$="20",x,b="50",c,E,v,I,V,L="Löschen",B,T;return{c(){t=f("div"),e=f("span"),e.textContent=l,s=O(),a=f("div"),r=f("select"),h=f("option"),h.textContent=C,i=f("option"),i.textContent=$,x=f("option"),x.textContent=b,c=f("option"),E=X("Alle"),I=O(),V=f("button"),V.textContent=L,this.h()},l(g){t=d(g,"DIV",{class:!0});var P=y(t);e=d(P,"SPAN",{class:!0,"data-svelte-h":!0}),z(e)!=="svelte-l61mnh"&&(e.textContent=l),s=D(P),a=d(P,"DIV",{class:!0});var F=y(a);r=d(F,"SELECT",{class:!0});var S=y(r);h=d(S,"OPTION",{"data-svelte-h":!0}),z(h)!=="svelte-18d3dpq"&&(h.textContent=C),i=d(S,"OPTION",{"data-svelte-h":!0}),z(i)!=="svelte-1k18a0a"&&(i.textContent=$),x=d(S,"OPTION",{"data-svelte-h":!0}),z(x)!=="svelte-ujtx1y"&&(x.textContent=b),c=d(S,"OPTION",{});var H=y(c);E=Y(H,"Alle"),H.forEach(_),S.forEach(_),I=D(F),V=d(F,"BUTTON",{class:!0,"data-svelte-h":!0}),z(V)!=="svelte-1t2ucov"&&(V.textContent=L),F.forEach(_),P.forEach(_),this.h()},h(){p(e,"class","font-bold"),h.__value=10,Q(h,h.__value),i.__value=20,Q(i,i.__value),x.__value=50,Q(x,x.__value),c.__value=v=n[1].length,Q(c,c.__value),p(r,"class","join-item select select-error select-sm"),n[2]===void 0&&Se(()=>n[9].call(r)),p(V,"class","join-item btn btn-error btn-sm"),p(a,"class","join"),p(t,"class","flex items-center gap-2")},m(g,P){G(g,t,P),o(t,e),o(t,s),o(t,a),o(a,r),o(r,h),o(r,i),o(r,x),o(r,c),o(c,E),ue(r,n[2],!0),o(a,I),o(a,V),B||(T=[ge(r,"change",n[9]),ge(V,"click",n[6])],B=!0)},p(g,P){P&2&&v!==(v=g[1].length)&&(c.__value=v,Q(c,c.__value)),P&6&&ue(r,g[2])},d(g){g&&_(t),B=!1,Ue(T)}}}function Ze(n){let t,e,l,s="Verlauf",a,r,h,C,i=n[1].length+"",$,x,b,c="beantwortete Fragen",E,v,I,V=`${n[4]}%`,L,B,T,g,P="richtige Antworten",F,S,H,te=n[3].catalog+"",se,fe,de,J,Ie="meisten Fehler in Fragenkatalog",_e,le,he,j,oe,K,ve,R;document.title="Verlauf - "+Ge;let w=n[3].catalog!=="-"&&De(n),N=n[1].length>0&&we(n),W=Ve(n[1].slice(0,n[5])),k=[];for(let u=0;u<W.length;u+=1)k[u]=Ne(Oe(n,W,u));const Fe=u=>Z(k[u],1,1,()=>{k[u]=null});let A=n[1].length>0&&Ae(n);return{c(){t=O(),e=f("div"),l=f("h1"),l.textContent=s,a=O(),r=f("div"),h=f("div"),C=f("div"),$=X(i),x=O(),b=f("h3"),b.textContent=c,E=O(),v=f("div"),I=f("div"),L=X(V),T=O(),g=f("h3"),g.textContent=P,F=O(),S=f("div"),H=f("div"),se=X(te),fe=O(),w&&w.c(),de=O(),J=f("h3"),J.textContent=Ie,_e=O(),le=f("div"),he=O(),j=f("div"),N&&N.c(),oe=O(),K=f("div");for(let u=0;u<k.length;u+=1)k[u].c();ve=O(),A&&A.c(),this.h()},l(u){Qe("svelte-u3fr0m",document.head).forEach(_),t=D(u),e=d(u,"DIV",{});var m=y(e);l=d(m,"H1",{class:!0,"data-svelte-h":!0}),z(l)!=="svelte-dcbfll"&&(l.textContent=s),a=D(m),r=d(m,"DIV",{class:!0});var M=y(r);h=d(M,"DIV",{});var ae=y(h);C=d(ae,"DIV",{class:!0});var ke=y(C);$=Y(ke,i),ke.forEach(_),x=D(ae),b=d(ae,"H3",{class:!0,"data-svelte-h":!0}),z(b)!=="svelte-128dyt3"&&(b.textContent=c),ae.forEach(_),E=D(M),v=d(M,"DIV",{class:!0});var re=y(v);I=d(re,"DIV",{class:!0,style:!0,role:!0});var ye=y(I);L=Y(ye,V),ye.forEach(_),T=D(re),g=d(re,"H3",{class:!0,"data-svelte-h":!0}),z(g)!=="svelte-grrgqt"&&(g.textContent=P),re.forEach(_),F=D(M),S=d(M,"DIV",{class:!0});var ie=y(S);H=d(ie,"DIV",{class:!0});var ce=y(H);se=Y(ce,te),fe=D(ce),w&&w.l(ce),ce.forEach(_),de=D(ie),J=d(ie,"H3",{class:!0,"data-svelte-h":!0}),z(J)!=="svelte-1hgao6o"&&(J.textContent=Ie),ie.forEach(_),M.forEach(_),_e=D(m),le=d(m,"DIV",{class:!0}),y(le).forEach(_),he=D(m),j=d(m,"DIV",{class:!0});var ee=y(j);N&&N.l(ee),oe=D(ee),K=d(ee,"DIV",{class:!0});var $e=y(K);for(let pe=0;pe<k.length;pe+=1)k[pe].l($e);$e.forEach(_),ve=D(ee),A&&A.l(ee),ee.forEach(_),m.forEach(_),this.h()},h(){p(l,"class","text-3xl text-center font-semibold mb-2"),p(C,"class","text-lg font-bold text-center"),p(b,"class","text-sm font-semibold text-center opacity-70"),p(I,"class","radial-progress self-center text-primary font-bold"),p(I,"style",B=`--value:${n[4]};`),p(I,"role","progressbar"),p(g,"class","text-sm font-semibold text-center opacity-70"),p(v,"class","inline-flex flex-col gap-2"),p(H,"class","text-lg font-bold text-center"),p(J,"class","text-sm font-semibold text-center opacity-70"),p(S,"class",""),p(r,"class","mb-4 grid grid-cols-1 lg:grid-cols-3 items-end"),p(le,"class","divider"),p(K,"class","flex flex-col gap-1"),p(j,"class","flex flex-col gap-4")},m(u,q){G(u,t,q),G(u,e,q),o(e,l),o(e,a),o(e,r),o(r,h),o(h,C),o(C,$),o(h,x),o(h,b),o(r,E),o(r,v),o(v,I),o(I,L),o(v,T),o(v,g),o(r,F),o(r,S),o(S,H),o(H,se),o(H,fe),w&&w.m(H,null),o(S,de),o(S,J),o(e,_e),o(e,le),o(e,he),o(e,j),N&&N.m(j,null),o(j,oe),o(j,K);for(let m=0;m<k.length;m+=1)k[m]&&k[m].m(K,null);o(j,ve),A&&A.m(j,null),R=!0},p(u,[q]){if((!R||q&2)&&i!==(i=u[1].length+"")&&ne($,i),(!R||q&16)&&V!==(V=`${u[4]}%`)&&ne(L,V),(!R||q&16&&B!==(B=`--value:${u[4]};`))&&p(I,"style",B),(!R||q&8)&&te!==(te=u[3].catalog+"")&&ne(se,te),u[3].catalog!=="-"?w?w.p(u,q):(w=De(u),w.c(),w.m(H,null)):w&&(w.d(1),w=null),u[1].length>0?N?N.p(u,q):(N=we(u),N.c(),N.m(j,oe)):N&&(N.d(1),N=null),q&34){W=Ve(u[1].slice(0,u[5]));let m;for(m=0;m<W.length;m+=1){const M=Oe(u,W,m);k[m]?(k[m].p(M,q),U(k[m],1)):(k[m]=Ne(M),k[m].c(),U(k[m],1),k[m].m(K,null))}for(je(),m=W.length;m<k.length;m+=1)Fe(m);Le()}u[1].length>0?A?A.p(u,q):(A=Ae(u),A.c(),A.m(j,null)):A&&(A.d(1),A=null)},i(u){if(!R){for(let q=0;q<W.length;q+=1)U(k[q]);R=!0}},o(u){k=k.filter(Boolean);for(let q=0;q<k.length;q+=1)Z(k[q]);R=!1},d(u){u&&(_(t),_(e)),w&&w.d(),N&&N.d(),Me(k,u),A&&A.d()}}}function et(n,t){let e=t.question.choices.find(l=>l.answer);return e&&e.text===t.answer?n+1:n}function tt(n,t){let e=t.question.catalog,l=t.question.choices.find(s=>s.answer);return e&&l&&(e in n||(n[e]={correct:0,incorrect:0}),l.text===t.answer?n[e].correct+=1:n[e].incorrect+=1),n}function lt(n,t,e){let l,s,a,r,h,C,i;Re(n,me,c=>e(1,i=c));function $(){i.length<=s?qe(me,i=[],i):qe(me,i=i.slice(0,i.length-s),i)}function x(){l=Pe(this),e(5,l)}function b(){s=Pe(this),e(2,s)}return n.$$.update=()=>{n.$$.dirty&2&&e(7,a=i.reduce(et,0)),n.$$.dirty&130&&e(4,r=i.length>0?Math.round(a/i.length*100):0),n.$$.dirty&2&&e(0,h=i.reduce(tt,{})),n.$$.dirty&3&&e(3,C=Object.keys(h).reduce((c,E)=>{let v=h[E].incorrect/i.length;return v>c.ratio?{ratio:v,catalog:E}:c},{ratio:0,catalog:"-"}))},e(5,l=10),e(2,s=10),[h,i,s,C,r,l,$,a,x,b]}class it extends ze{constructor(t){super(),He(this,t,lt,Ze,Te,{})}}export{it as component};
