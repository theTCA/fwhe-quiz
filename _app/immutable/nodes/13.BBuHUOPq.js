import{d as ye,s as B,a as _,f as b,c as Ae}from"../chunks/NT8NRc0h.js";import{o as Me}from"../chunks/DWi8nBnj.js";import{p as Ce,c as a,r as s,s as i,t as H,a as we,d as Se,b as h,g as e,$ as je,e as oe,f as pe,n as be,o as xe}from"../chunks/DN6A0naj.js";import{i as k,b as x,a as le,s as De}from"../chunks/kWoj3Qxl.js";import{e as Ee}from"../chunks/SrmGGwdX.js";import{h as Fe,P as He}from"../chunks/CGRCA45q.js";import{I as $,s as N,d as ee}from"../chunks/XaqINB52.js";import{t as X,a as ve,c as Y,b as Ne}from"../chunks/GIsLircH.js";import{f as ke}from"../chunks/qVDKZIav.js";import{c as qe}from"../chunks/DfCi-hmE.js";import{Q as Re}from"../chunks/CgF8TCyV.js";import{Q as Ue}from"../chunks/BixLxKL9.js";import{a as ce}from"../chunks/CMGnaNZv.js";import{Q as Ze}from"../chunks/x6ihCF3_.js";import{B as Ge}from"../chunks/WyEaBd6s.js";var Je=b('<div class="p-2 text-success"><!></div>'),Ke=b('<button class="btn btn-square btn-soft btn-primary"><!></button>'),Oe=b('<progress class="progress progress-success"></progress>'),Ve=b('<progress class="progress progress-primary"></progress>'),Xe=b('<div class="flex flex-row items-center gap-2 rounded-md bg-base-200 p-2"><div class="flex-none"><!></div> <div class="flex-auto"><div class="tooltip"><h3 class="line-clamp-1 text-sm font-semibold wrap-anywhere text-ellipsis lg:text-base"> </h3></div> <!></div> <div class="flex-none"><button class="btn btn-square btn-soft"><!></button></div></div>');function Ye(de,d){Ce(d,!0);var p=Xe(),I=a(p),Q=a(I);{var L=g=>{var l=Je(),S=a(l);$(S,{class:"size-6",icon:"mdi:check"}),s(l),_(g,l)},W=g=>{var l=Ke();l.__click=()=>d.select(d.chapter.name);var S=a(l);$(S,{icon:"carbon:play-filled-alt"}),s(l),_(g,l)};k(Q,g=>{d.chapter.questions.length===d.chapter.length?g(L):g(W,!1)})}s(I);var R=i(I,2),A=a(R),U=a(A),r=a(U,!0);s(U),s(A);var m=i(A,2);{var o=g=>{var l=Oe();H(()=>{ee(l,d.chapter.questions.length),N(l,"max",d.chapter.length)}),_(g,l)},q=g=>{var l=Ve();H(()=>{ee(l,d.chapter.questions.length),N(l,"max",d.chapter.length)}),_(g,l)};k(m,g=>{d.chapter.questions.length===d.chapter.length?g(o):g(q,!1)})}s(R);var y=i(R,2),M=a(y);M.__click=()=>d.reset(d.chapter.name);var ue=a(M);$(ue,{icon:"material-symbols:refresh"}),s(M),s(y),s(p),H(()=>{N(A,"data-tip",d.chapter.name),B(r,d.chapter.name)}),_(de,p),we()}ye(["click"]);var $e=b('<div class="mb-2 grid grid-cols-1 gap-2 md:grid-cols-2 lg:grid-cols-3"><div class="flex w-full items-center gap-2 rounded-md bg-base-200 p-2"><button class="btn btn-square btn-soft btn-primary" type="button"><!></button> <div class="flex-1"><h3 class="min-w-0 text-left font-semibold wrap-break-word">Lesezeichen</h3> <progress class="progress progress-primary"></progress></div> <button class="btn btn-square btn-soft"><!></button></div></div> <div class="divider"></div>',1),et=b('<div class="mb-6"><h2 class="text-lg font-semibold">Fortschritt</h2> <div class="text-sm"><span class="font-bold"> </span> von <span class="font-bold"> </span> Themenbereichen abgeschlossen</div> <div class="flex flex-col gap-1"><progress class="progress progress-primary"></progress> <div class="mx-auto text-xs font-bold"><span> </span> <span>/</span> <span> </span></div></div></div> <div class="divider font-bold">Themenbereiche</div> <!> <div class="grid grid-cols-1 gap-2 md:grid-cols-2 lg:grid-cols-3"></div>',1),tt=b('<div class="mb-2"><!></div>'),st=b('<button class="btn btn-primary">Weiter</button>'),at=b('<button class="btn btn-outline btn-primary">Wählen</button>'),rt=b('<button class="btn btn-primary">Wählen</button>'),nt=b('<div class="mt-6"><!></div>'),it=b('<div><div class="mb-6"><h2 class="mb-2 flex-1 text-center text-sm font-semibold text-primary"> </h2> <div class="flex flex-col gap-1"><progress class="progress progress-primary"></progress> <div class="text-content text-center text-xs font-bold"><span> </span> <span>/</span> <span> </span></div></div></div> <!> <div class="grid grid-cols-2 gap-2"><button class="btn">Zurück</button> <!></div> <!></div>'),ot=b('<div><div class="relative mb-2 flex w-full justify-between"><h1 class="mb-2 flex-1 text-center text-3xl font-semibold">Training</h1> <!></div> <!></div>');function yt(de,d){Ce(d,!0);const p=()=>le(X,"$trainingChapters",W),I=()=>le(ve,"$trainingLastChapter",W),Q=()=>le(Y,"$trainedBookmarks",W),L=()=>le(Ne,"$bookmarks",W),[W,R]=De();p().length<=0&&x(X,qe.map(t=>({name:t.name,questions:[],length:t.questions.length})));let A=xe(()=>p().reduce((t,n)=>n.questions.length===n.length?t+1:t,0)),U=xe(()=>p().reduce((t,n)=>t+n.questions.length,0)),r=oe(void 0),m=[],o=oe(void 0),q=oe(""),y=oe(!1);Me(()=>{I()&&he(I())});function M(){if(h(y,!0),!e(o))return;let t=e(o).choices.find(n=>n.answer);t&&e(r)&&m&&(t.text===e(q)?e(r).name==="Lesezeichen"?(e(r).questions=[...e(r).questions,e(o).id],x(Y,[...Q(),e(o)]),x(Y,Q())):(p().find(n=>n.name===e(r)?.name).questions=[...e(r).questions,e(o).id],e(r).questions=[...e(r).questions,e(o).id],x(X,p())):m=[...m,e(o)]),x(X,p())}function ue(){!m||m.length<=0||(m=[...m.slice(1)],m.length>0?(h(o,m?.at(0),!0),h(q,""),h(y,!1)):g())}function g(){h(r,void 0),h(q,""),h(y,!1),m=[],h(o,void 0),x(ve,"")}function l(){if(!e(r))return;e(r).questions.length===e(r).length&&_e(e(r).name);let t=Le(e(r));t&&(m=t,h(o,m?.at(0),!0))}function S(){Q().length===L().length&&x(Y,[]),h(r,{name:"Lesezeichen",questions:[...Q()],length:L().length},!0),x(ve,"Lesezeichen"),m=ce(L().filter(t=>!Q().includes(t.id)).map(t=>({...t,choices:ce(t.choices)}))),h(o,m?.at(0),!0)}function Qe(){x(Y,[])}function he(t){if(!t){h(r,void 0);return}if(t==="Lesezeichen"){S();return}let n=p().find(v=>v.name===t);if(!n){h(r,void 0);return}h(r,n,!0),x(ve,e(r)?.name),l()}function Be(t){t&&_e(t)}function _e(t){let n=p().find(v=>v.name===t);n&&(n.questions=[],x(X,p()))}function Le(t){if(!t)return null;let n=qe.find(v=>v.name===t.name)?.questions;return!n||n?.length<=0?null:(n=n.filter(v=>!t.questions.includes(v.id)).map(v=>({...v,choices:ce(v.choices)})),ce(n))}var fe=ot();Fe("d816z7",t=>{Se(()=>{je.title=`Training - ${He}`})});var me=a(fe),ze=i(a(me),2);{var Pe=t=>{Ge(t,{class:"absolute right-2 lg:right-0",get question(){return e(o)}})};k(ze,t=>{e(o)&&t(Pe)})}s(me);var Te=i(me,2);{var Ie=t=>{var n=et(),v=pe(n),z=i(a(v),2),Z=a(z),te=a(Z,!0);s(Z);var j=i(Z,2),se=a(j,!0);s(j),be(),s(z);var D=i(z,2),G=a(D),J=i(G,2),K=a(J),ae=a(K,!0);s(K);var re=i(K,4),O=a(re,!0);s(re),s(J),s(D),s(v);var V=i(v,4);{var ge=C=>{var E=$e(),ie=pe(E),u=a(ie),c=a(u);c.__click=S;var P=a(c);$(P,{icon:"carbon:play-filled-alt"}),s(c);var T=i(c,2),F=i(a(T),2);s(T);var f=i(T,2);f.__click=Qe;var w=a(f);$(w,{icon:"material-symbols:refresh"}),s(f),s(u),s(ie),be(2),H(()=>{ee(F,Q().length),N(F,"max",L().length)}),_(C,E)};k(V,C=>{L().length>0&&C(ge)})}var ne=i(V,2);Ee(ne,5,p,C=>C.name,(C,E)=>{Ye(C,{get chapter(){return e(E)},select:he,reset:Be})}),s(ne),H(()=>{B(te,e(A)),B(se,p().length),ee(G,e(U)),N(G,"max",ke.length),B(ae,e(U)),B(O,ke.length)}),_(t,n)},We=t=>{var n=it(),v=a(n),z=a(v),Z=a(z,!0);s(z);var te=i(z,2),j=a(te),se=i(j,2),D=a(se),G=a(D,!0);s(D);var J=i(D,4),K=a(J,!0);s(J),s(se),s(te),s(v);var ae=i(v,2);{var re=u=>{var c=tt(),P=a(c);{var T=f=>{Ue(f,{get question(){return e(o)},get answer(){return e(q)}})},F=f=>{Re(f,{get question(){return e(o)},showCatalog:!1,get answer(){return e(q)},set answer(w){h(q,w,!0)}})};k(P,f=>{e(y)?f(T):f(F,!1)})}s(c),_(u,c)};k(ae,u=>{e(o)&&u(re)})}var O=i(ae,2),V=a(O);V.__click=g;var ge=i(V,2);{var ne=u=>{var c=st();c.__click=ue,_(u,c)},C=u=>{var c=Ae(),P=pe(c);{var T=f=>{var w=at();w.__click=M,_(f,w)},F=f=>{var w=rt();w.__click=M,_(f,w)};k(P,f=>{e(q)===""?f(T):f(F,!1)},!0)}_(u,c)};k(ge,u=>{e(y)?u(ne):u(C,!1)})}s(O);var E=i(O,2);{var ie=u=>{var c=nt(),P=a(c);Ze(P,{get question(){return e(o)}}),s(c),_(u,c)};k(E,u=>{e(o)&&e(y)&&u(ie)})}s(n),H(()=>{B(Z,e(r).name),ee(j,e(r).questions.length),N(j,"max",e(r).length),B(G,e(r).questions.length),B(K,e(r).length)}),_(t,n)};k(Te,t=>{e(r)?t(We,!1):t(Ie)})}s(fe),_(de,fe),we(),R()}ye(["click"]);export{yt as component};
