import{h as S,a as f,t as p,e as $,c as T,s as X}from"../chunks/disclose-version.BWTWBhB4.js";import{i as Y,P as Z}from"../chunks/public.Dj7Vthdi.js";import{p as tt,m as h,a as et,$ as st,g as e,c as n,s as l,r as u,b as v,f as E,t as at}from"../chunks/runtime.BtXH3TXM.js";import{i as Q}from"../chunks/props.CqWHPKN1.js";import{s as rt}from"../chunks/Icon.BPb3u_LU.js";import{s as it,b as q,a as W}from"../chunks/store.5iZEm9oW.js";import{b as ot}from"../chunks/paths.C1uUrTZP.js";import{B as nt}from"../chunks/BookmarkButton.hB3wrEth.js";import{Q as lt}from"../chunks/Question.D64lub_a.js";import{Q as ut}from"../chunks/QuestionDisplay.CmF-OlKN.js";import{Q as vt}from"../chunks/QuestionHelp.DK4dt6bz.js";import{e as x,f as A,q as C}from"../chunks/stores.TwdxsUJJ.js";import{a as D}from"../chunks/helper.CMGnaNZv.js";var ft=p('<button class="btn btn-primary">Weiter</button>'),mt=p('<button class="btn btn-primary">Wählen</button>'),ct=p('<button class="btn btn-primary btn-outline">Wählen</button>'),dt=p('<div class="grid grid-cols-2"><div class="text-sm text-center mb-4">in Folge richtig: <span class="font-semibold"> </span></div></div> <!>',1),pt=p('<div><div class="relative flex justify-between w-full"><h1 class="text-3xl flex-1 text-center font-semibold mb-2">Endlosquiz</h1> <!></div> <div class="mb-2"><!></div> <div class="grid grid-cols-2 gap-2 mb-4"><a class="btn btn-outline">Verlauf</a> <!></div> <!></div>');function Ht(j,F){tt(F,!1);const B=it(),m=()=>W(x,"$endlessQuizQuestions",B),I=()=>W(C,"$quizHistory",B);m().length===0&&q(x,[...D(A)]);let r=h(m().at(0)),i=h(""),c=h(!1),b=h(0);function L(){v(c,!1),m().length<=0&&q(x,[...D(A)]),v(r,m().at(0)),v(i,"")}function H(){q(C,[{question:e(r),answer:e(i),date:new Date,type:"endless"},...I()]);let t=e(r).choices.find(s=>s.answer);t&&t.text===e(i)?v(b,e(b)+1):v(b,0),v(c,!0),q(x,[...m().slice(1)])}Y();var w=pt();S(t=>{st.title=`Endlosquiz - ${Z??""}`});var y=n(w),M=l(n(y),2);nt(M,{class:"absolute right-2 lg:right-0",get question(){return e(r)}}),u(y);var z=l(y,2),N=n(z);{var U=t=>{ut(t,{get question(){return e(r)},get answer(){return e(i)}})},V=t=>{lt(t,{get question(){return e(r)},get answer(){return e(i)},set answer(s){v(i,s)},$$legacy:!0})};Q(N,t=>{e(c)?t(U):t(V,!1)})}u(z);var k=l(z,2),P=n(k);rt(P,"href",ot+"/history#endless");var G=l(P,2);{var J=t=>{var s=ft();$("click",s,L),f(t,s)},K=t=>{var s=T(),d=E(s);{var _=a=>{var o=mt();$("click",o,H),f(a,o)},g=a=>{var o=ct();$("click",o,H),f(a,o)};Q(d,a=>{e(i).length>0?a(_):a(g,!1)})}f(t,s)};Q(G,t=>{e(c)?t(J):t(K,!1)})}u(k);var O=l(k,2);{var R=t=>{var s=dt(),d=E(s),_=n(d),g=l(n(_)),a=n(g,!0);u(g),u(_),u(d);var o=l(d,2);vt(o,{get question(){return e(r)}}),at(()=>X(a,e(b))),f(t,s)};Q(O,t=>{e(c)&&t(R)})}u(w),f(j,w),et()}export{Ht as component};
