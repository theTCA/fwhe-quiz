import{s as be,e as k,c as $,b as w,f as _,o as d,i as R,p as $e,I as qe,a as N,t as z,g as H,d as K,h as b,r as X,j as ne,n as se,l as Ce,m as Z,k as ue,J as Ee,q as le,u as we,v as Ie}from"../chunks/scheduler.Niau2b56.js";import{S as ve,i as ke,t as C,g as J,e as M,a as V,c as G,b as L,m as W,d as F,f as ye}from"../chunks/index.GoLXg0II.js";import{t as re,c as te,f as De}from"../chunks/stores.DC3zV9ml.js";import{c as ce}from"../chunks/data.DjoZ6nhe.js";import{B as Te,Q as Ve,a as Se}from"../chunks/QuestionDisplay.g_72oxnQ.js";import{e as fe}from"../chunks/each.D6YF6ztN.js";import{I as oe}from"../chunks/Icon.DhrcX_6o.js";import{a as he}from"../chunks/helper.CMGnaNZv.js";import{Q as Be}from"../chunks/QuestionHelp.BBZFMeX6.js";function _e(o,e,t){const n=o.slice();return n[6]=e[t],n}function Oe(o){let e,t,n,s,l;t=new oe({props:{icon:"carbon:play-filled-alt"}});function r(){return o[3](o[6])}return{c(){e=k("button"),G(t.$$.fragment),this.h()},l(a){e=$(a,"BUTTON",{class:!0});var i=w(e);L(t.$$.fragment,i),i.forEach(_),this.h()},h(){d(e,"class","btn btn-primary btn-outline btn-square")},m(a,i){R(a,e,i),W(t,e,null),n=!0,s||(l=X(e,"click",r),s=!0)},p(a,i){o=a},i(a){n||(C(t.$$.fragment,a),n=!0)},o(a){V(t.$$.fragment,a),n=!1},d(a){a&&_(e),F(t),s=!1,l()}}}function Qe(o){let e,t,n;return t=new oe({props:{class:"btn-square p-2.5",icon:"mdi:check"}}),{c(){e=k("div"),G(t.$$.fragment),this.h()},l(s){e=$(s,"DIV",{class:!0});var l=w(e);L(t.$$.fragment,l),l.forEach(_),this.h()},h(){d(e,"class","text-success")},m(s,l){R(s,e,l),W(t,e,null),n=!0},p:se,i(s){n||(C(t.$$.fragment,s),n=!0)},o(s){V(t.$$.fragment,s),n=!1},d(s){s&&_(e),F(t)}}}function Pe(o){let e,t,n;return{c(){e=k("progress"),this.h()},l(s){e=$(s,"PROGRESS",{class:!0,max:!0}),w(e).forEach(_),this.h()},h(){d(e,"class","progress"),e.value=t=o[6].questions.length,d(e,"max",n=o[6].length)},m(s,l){R(s,e,l)},p(s,l){l&1&&t!==(t=s[6].questions.length)&&(e.value=t),l&1&&n!==(n=s[6].length)&&d(e,"max",n)},d(s){s&&_(e)}}}function Re(o){let e,t,n;return{c(){e=k("progress"),this.h()},l(s){e=$(s,"PROGRESS",{class:!0,max:!0}),w(e).forEach(_),this.h()},h(){d(e,"class","progress progress-success"),e.value=t=o[6].questions.length,d(e,"max",n=o[6].length)},m(s,l){R(s,e,l)},p(s,l){l&1&&t!==(t=s[6].questions.length)&&(e.value=t),l&1&&n!==(n=s[6].length)&&d(e,"max",n)},d(s){s&&_(e)}}}function me(o){let e,t,n,s,l,r,a=o[6].name+"",i,f,m,E,g,S,v,B,I;const j=[Qe,Oe],O=[];function P(h,D){return h[6].questions.length===h[6].length?0:1}t=P(o),n=O[t]=j[t](o);function Q(h,D){return h[6].questions.length===h[6].length?Re:Pe}let u=Q(o),c=u(o);g=new oe({props:{icon:"material-symbols:refresh"}});function p(){return o[4](o[6])}return{c(){e=k("div"),n.c(),s=N(),l=k("div"),r=k("h3"),i=z(a),f=N(),c.c(),m=N(),E=k("button"),G(g.$$.fragment),S=N(),this.h()},l(h){e=$(h,"DIV",{class:!0});var D=w(e);n.l(D),s=H(D),l=$(D,"DIV",{class:!0});var A=w(l);r=$(A,"H3",{class:!0});var U=w(r);i=K(U,a),U.forEach(_),f=H(A),c.l(A),A.forEach(_),m=H(D),E=$(D,"BUTTON",{class:!0});var y=w(E);L(g.$$.fragment,y),y.forEach(_),S=H(D),D.forEach(_),this.h()},h(){d(r,"class","font-semibold text-left break-words min-w-0"),d(l,"class","flex-1"),d(E,"class","btn btn-ghost text-primary"),d(e,"class","bg-base-200 p-2 rounded-md flex flex-row items-center gap-2")},m(h,D){R(h,e,D),O[t].m(e,null),b(e,s),b(e,l),b(l,r),b(r,i),b(l,f),c.m(l,null),b(e,m),b(e,E),W(g,E,null),b(e,S),v=!0,B||(I=X(E,"click",p),B=!0)},p(h,D){o=h;let A=t;t=P(o),t===A?O[t].p(o,D):(J(),V(O[A],1,1,()=>{O[A]=null}),M(),n=O[t],n?n.p(o,D):(n=O[t]=j[t](o),n.c()),C(n,1),n.m(e,s)),(!v||D&1)&&a!==(a=o[6].name+"")&&ne(i,a),u===(u=Q(o))&&c?c.p(o,D):(c.d(1),c=u(o),c&&(c.c(),c.m(l,null)))},i(h){v||(C(n),C(g.$$.fragment,h),v=!0)},o(h){V(n),V(g.$$.fragment,h),v=!1},d(h){h&&_(e),O[t].d(),c.d(),F(g),B=!1,I()}}}function Ne(o){let e,t,n=fe(o[0]),s=[];for(let r=0;r<n.length;r+=1)s[r]=me(_e(o,n,r));const l=r=>V(s[r],1,1,()=>{s[r]=null});return{c(){e=k("div");for(let r=0;r<s.length;r+=1)s[r].c();this.h()},l(r){e=$(r,"DIV",{class:!0});var a=w(e);for(let i=0;i<s.length;i+=1)s[i].l(a);a.forEach(_),this.h()},h(){d(e,"class","grid grid-cols-1 lg:grid-cols-3 gap-2")},m(r,a){R(r,e,a);for(let i=0;i<s.length;i+=1)s[i]&&s[i].m(e,null);t=!0},p(r,[a]){if(a&7){n=fe(r[0]);let i;for(i=0;i<n.length;i+=1){const f=_e(r,n,i);s[i]?(s[i].p(f,a),C(s[i],1)):(s[i]=me(f),s[i].c(),C(s[i],1),s[i].m(e,null))}for(J(),i=n.length;i<s.length;i+=1)l(i);M()}},i(r){if(!t){for(let a=0;a<n.length;a+=1)C(s[a]);t=!0}},o(r){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)V(s[a]);t=!1},d(r){r&&_(e),$e(s,r)}}}function He(o,e,t){let{chapters:n}=e;const s=qe();function l(f){s("select",{name:f})}function r(f){s("reset",{name:f})}const a=f=>l(f.name),i=f=>r(f.name);return o.$$set=f=>{"chapters"in f&&t(0,n=f.chapters)},[n,l,r,a,i]}class Ue extends ve{constructor(e){super(),ke(this,e,He,Ne,be,{chapters:0})}}function Ae(o){let e,t,n,s,l=o[4].name+"",r,a,i,f,m,E,g,S,v,B,I,j="Zurück",O,P,Q,u,c,p=o[1]&&pe(o),h=o[1]&&de(o);function D(q,T){return q[3]?Je:q[2]===""?Fe:We}let A=D(o),U=A(o),y=o[1]&&o[3]&&ge(o);return{c(){e=k("div"),t=k("div"),n=k("div"),s=k("h2"),r=z(l),a=N(),p&&p.c(),i=N(),f=k("div"),m=k("progress"),S=N(),h&&h.c(),v=N(),B=k("div"),I=k("button"),I.textContent=j,O=N(),U.c(),P=N(),y&&y.c(),this.h()},l(q){e=$(q,"DIV",{});var T=w(e);t=$(T,"DIV",{class:!0});var Y=w(t);n=$(Y,"DIV",{class:!0});var x=w(n);s=$(x,"H2",{class:!0});var ie=w(s);r=K(ie,l),ie.forEach(_),a=H(x),p&&p.l(x),x.forEach(_),i=H(Y),f=$(Y,"DIV",{class:!0});var ae=w(f);m=$(ae,"PROGRESS",{class:!0,max:!0}),w(m).forEach(_),ae.forEach(_),Y.forEach(_),S=H(T),h&&h.l(T),v=H(T),B=$(T,"DIV",{class:!0});var ee=w(B);I=$(ee,"BUTTON",{class:!0,"data-svelte-h":!0}),Z(I)!=="svelte-1120u75"&&(I.textContent=j),O=H(ee),U.l(ee),ee.forEach(_),P=H(T),y&&y.l(T),T.forEach(_),this.h()},h(){d(s,"class","text-sm flex-1 text-center text-primary font-semibold mb-2"),d(n,"class","relative flex justify-between items-center w-full"),d(m,"class","progress progress-primary"),m.value=E=o[4].questions.length,d(m,"max",g=o[4].length),d(f,"class","w-[80%] mx-auto"),d(t,"class","mb-3"),d(I,"class","btn btn-error btn-outline"),d(B,"class","grid grid-cols-2 gap-2")},m(q,T){R(q,e,T),b(e,t),b(t,n),b(n,s),b(s,r),b(n,a),p&&p.m(n,null),b(t,i),b(t,f),b(f,m),b(e,S),h&&h.m(e,null),b(e,v),b(e,B),b(B,I),b(B,O),U.m(B,null),b(e,P),y&&y.m(e,null),Q=!0,u||(c=X(I,"click",o[9]),u=!0)},p(q,T){(!Q||T&16)&&l!==(l=q[4].name+"")&&ne(r,l),q[1]?p?(p.p(q,T),T&2&&C(p,1)):(p=pe(q),p.c(),C(p,1),p.m(n,null)):p&&(J(),V(p,1,1,()=>{p=null}),M()),(!Q||T&16&&E!==(E=q[4].questions.length))&&(m.value=E),(!Q||T&16&&g!==(g=q[4].length))&&d(m,"max",g),q[1]?h?(h.p(q,T),T&2&&C(h,1)):(h=de(q),h.c(),C(h,1),h.m(e,v)):h&&(J(),V(h,1,1,()=>{h=null}),M()),A===(A=D(q))&&U?U.p(q,T):(U.d(1),U=A(q),U&&(U.c(),U.m(B,null))),q[1]&&q[3]?y?(y.p(q,T),T&10&&C(y,1)):(y=ge(q),y.c(),C(y,1),y.m(e,null)):y&&(J(),V(y,1,1,()=>{y=null}),M())},i(q){Q||(C(p),C(h),C(y),Q=!0)},o(q){V(p),V(h),V(y),Q=!1},d(q){q&&_(e),p&&p.d(),h&&h.d(),U.d(),y&&y.d(),u=!1,c()}}}function je(o){let e,t,n="Fortschritt",s,l,r,a,i,f,m=o[0].length+"",E,g,S,v,B,I,j="Abschnitte",O,P,Q;return P=new Ue({props:{chapters:o[0]}}),P.$on("select",o[10]),P.$on("reset",o[11]),{c(){e=k("div"),t=k("h2"),t.textContent=n,s=N(),l=k("div"),r=k("span"),a=z(o[6]),i=z(`\r
            von\r
            `),f=k("span"),E=z(m),g=z(`\r
            Abschnitten abgeschlossen`),S=N(),v=k("progress"),B=N(),I=k("div"),I.textContent=j,O=N(),G(P.$$.fragment),this.h()},l(u){e=$(u,"DIV",{class:!0});var c=w(e);t=$(c,"H2",{class:!0,"data-svelte-h":!0}),Z(t)!=="svelte-1bdup3j"&&(t.textContent=n),s=H(c),l=$(c,"DIV",{class:!0});var p=w(l);r=$(p,"SPAN",{class:!0});var h=w(r);a=K(h,o[6]),h.forEach(_),i=K(p,`\r
            von\r
            `),f=$(p,"SPAN",{class:!0});var D=w(f);E=K(D,m),D.forEach(_),g=K(p,`\r
            Abschnitten abgeschlossen`),p.forEach(_),S=H(c),v=$(c,"PROGRESS",{class:!0,max:!0}),w(v).forEach(_),c.forEach(_),B=H(u),I=$(u,"DIV",{class:!0,"data-svelte-h":!0}),Z(I)!=="svelte-e7sjom"&&(I.textContent=j),O=H(u),L(P.$$.fragment,u),this.h()},h(){d(t,"class","text-lg font-semibold"),d(r,"class","font-bold"),d(f,"class","font-bold"),d(l,"class","text-sm"),d(v,"class","progress progress-primary"),v.value=o[5],d(v,"max",De.length),d(e,"class","mb-2"),d(I,"class","divider font-bold")},m(u,c){R(u,e,c),b(e,t),b(e,s),b(e,l),b(l,r),b(r,a),b(l,i),b(l,f),b(f,E),b(l,g),b(e,S),b(e,v),R(u,B,c),R(u,I,c),R(u,O,c),W(P,u,c),Q=!0},p(u,c){(!Q||c&64)&&ne(a,u[6]),(!Q||c&1)&&m!==(m=u[0].length+"")&&ne(E,m),(!Q||c&32)&&(v.value=u[5]);const p={};c&1&&(p.chapters=u[0]),P.$set(p)},i(u){Q||(C(P.$$.fragment,u),Q=!0)},o(u){V(P.$$.fragment,u),Q=!1},d(u){u&&(_(e),_(B),_(I),_(O)),F(P,u)}}}function pe(o){let e,t;return e=new Te({props:{class:"absolute right-2 lg:right-0",question:o[1]}}),{c(){G(e.$$.fragment)},l(n){L(e.$$.fragment,n)},m(n,s){W(e,n,s),t=!0},p(n,s){const l={};s&2&&(l.question=n[1]),e.$set(l)},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){V(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function de(o){let e,t,n,s;const l=[Le,Ge],r=[];function a(i,f){return i[3]?0:1}return t=a(o),n=r[t]=l[t](o),{c(){e=k("div"),n.c(),this.h()},l(i){e=$(i,"DIV",{class:!0});var f=w(e);n.l(f),f.forEach(_),this.h()},h(){d(e,"class","mb-2")},m(i,f){R(i,e,f),r[t].m(e,null),s=!0},p(i,f){let m=t;t=a(i),t===m?r[t].p(i,f):(J(),V(r[m],1,1,()=>{r[m]=null}),M(),n=r[t],n?n.p(i,f):(n=r[t]=l[t](i),n.c()),C(n,1),n.m(e,null))},i(i){s||(C(n),s=!0)},o(i){V(n),s=!1},d(i){i&&_(e),r[t].d()}}}function Ge(o){let e,t,n;function s(r){o[12](r)}let l={question:o[1],showCatalog:!1};return o[2]!==void 0&&(l.answer=o[2]),e=new Ve({props:l}),we.push(()=>ye(e,"answer",s)),{c(){G(e.$$.fragment)},l(r){L(e.$$.fragment,r)},m(r,a){W(e,r,a),n=!0},p(r,a){const i={};a&2&&(i.question=r[1]),!t&&a&4&&(t=!0,i.answer=r[2],Ie(()=>t=!1)),e.$set(i)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){V(e.$$.fragment,r),n=!1},d(r){F(e,r)}}}function Le(o){let e,t;return e=new Se({props:{question:o[1],answer:o[2],showCatalog:!1}}),{c(){G(e.$$.fragment)},l(n){L(e.$$.fragment,n)},m(n,s){W(e,n,s),t=!0},p(n,s){const l={};s&2&&(l.question=n[1]),s&4&&(l.answer=n[2]),e.$set(l)},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){V(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function We(o){let e,t="Wählen",n,s;return{c(){e=k("button"),e.textContent=t,this.h()},l(l){e=$(l,"BUTTON",{class:!0,"data-svelte-h":!0}),Z(e)!=="svelte-yp6av2"&&(e.textContent=t),this.h()},h(){d(e,"class","btn btn-primary")},m(l,r){R(l,e,r),n||(s=X(e,"click",o[7]),n=!0)},p:se,d(l){l&&_(e),n=!1,s()}}}function Fe(o){let e,t="Wählen",n,s;return{c(){e=k("button"),e.textContent=t,this.h()},l(l){e=$(l,"BUTTON",{class:!0,"data-svelte-h":!0}),Z(e)!=="svelte-7i55ch"&&(e.textContent=t),this.h()},h(){d(e,"class","btn btn-primary btn-outline")},m(l,r){R(l,e,r),n||(s=X(e,"click",o[7]),n=!0)},p:se,d(l){l&&_(e),n=!1,s()}}}function Je(o){let e,t="Weiter",n,s;return{c(){e=k("button"),e.textContent=t,this.h()},l(l){e=$(l,"BUTTON",{class:!0,"data-svelte-h":!0}),Z(e)!=="svelte-l40w4u"&&(e.textContent=t),this.h()},h(){d(e,"class","btn btn-success")},m(l,r){R(l,e,r),n||(s=X(e,"click",o[8]),n=!0)},p:se,d(l){l&&_(e),n=!1,s()}}}function ge(o){let e,t,n;return t=new Be({props:{question:o[1]}}),{c(){e=k("div"),G(t.$$.fragment),this.h()},l(s){e=$(s,"DIV",{class:!0});var l=w(e);L(t.$$.fragment,l),l.forEach(_),this.h()},h(){d(e,"class","mt-3")},m(s,l){R(s,e,l),W(t,e,null),n=!0},p(s,l){const r={};l&2&&(r.question=s[1]),t.$set(r)},i(s){n||(C(t.$$.fragment,s),n=!0)},o(s){V(t.$$.fragment,s),n=!1},d(s){s&&_(e),F(t)}}}function Me(o){let e,t,n,s="Training",l,r,a,i;const f=[je,Ae],m=[];function E(g,S){return g[4]?1:0}return r=E(o),a=m[r]=f[r](o),{c(){e=N(),t=k("div"),n=k("h1"),n.textContent=s,l=N(),a.c(),this.h()},l(g){Ce("svelte-1n1u6ys",document.head).forEach(_),e=H(g),t=$(g,"DIV",{});var v=w(t);n=$(v,"H1",{class:!0,"data-svelte-h":!0}),Z(n)!=="svelte-yrvv02"&&(n.textContent=s),l=H(v),a.l(v),v.forEach(_),this.h()},h(){document.title="Training - HFLÜ-Trainer",d(n,"class","text-3xl text-center font-semibold mb-2")},m(g,S){R(g,e,S),R(g,t,S),b(t,n),b(t,l),m[r].m(t,null),i=!0},p(g,[S]){let v=r;r=E(g),r===v?m[r].p(g,S):(J(),V(m[v],1,1,()=>{m[v]=null}),M(),a=m[r],a?a.p(g,S):(a=m[r]=f[r](g),a.c()),C(a,1),a.m(t,null))},i(g){i||(C(a),i=!0)},o(g){V(a),i=!1},d(g){g&&(_(e),_(t)),m[r].d()}}}function Ze(o,e,t){let n,s,l,r,a;ue(o,te,u=>t(0,r=u)),ue(o,re,u=>t(14,a=u)),r.length<=0&&le(te,r=ce.map(u=>({name:u.name,questions:[],length:u.questions.length})),r);let i=[],f,m="",E=!1;Ee(()=>{a&&I(new CustomEvent("",{detail:{name:a}}))});function g(){if(t(3,E=!0),!f)return;let u=f.choices.find(c=>c.answer);u&&l&&i&&(u.text===m?(r.find(c=>c.name===(l==null?void 0:l.name)).questions=[...l.questions,f.id],te.set(r)):i=[...i,f]),t(4,l)}function S(){!i||i.length<=0||(i=[...i.slice(1)],i.length>0?(t(1,f=i==null?void 0:i.at(0)),t(2,m=""),t(3,E=!1)):v())}function v(){t(4,l=null),t(2,m=""),t(3,E=!1),i=[],t(1,f=void 0),le(re,a="",a)}function B(){l&&(l.questions.length===l.length&&O(l.name),i=P(l),t(1,f=i==null?void 0:i.at(0)))}function I(u){if(!u.detail.name){t(4,l=null);return}let c=r.find(p=>p.name===u.detail.name);if(!c){t(4,l=null);return}t(4,l=c),le(re,a=l==null?void 0:l.name,a),B()}function j(u){u.detail.name&&O(u.detail.name)}function O(u){let c=r.find(p=>p.name===u);c&&(c.questions=[],te.set(r))}function P(u){var p;if(!u)return null;let c=(p=ce.find(h=>h.name===u.name))==null?void 0:p.questions;return!c||(c==null?void 0:c.length)<=0?null:(c=c.filter(h=>!u.questions.includes(h.id)).map(h=>({...h,choices:he(h.choices)})),he(c))}function Q(u){m=u,t(2,m)}return o.$$.update=()=>{o.$$.dirty&1&&t(6,n=r.reduce((u,c)=>c.questions.length===c.length?u+1:u,0)),o.$$.dirty&1&&t(5,s=r.reduce((u,c)=>u+c.questions.length,0))},t(4,l=null),[r,f,m,E,l,s,n,g,S,v,I,j,Q]}class lt extends ve{constructor(e){super(),ke(this,e,Ze,Me,be,{})}}export{lt as component};
