import{s as Xe,e as c,a as k,t as Y,c as u,b as x,f as h,g as E,d as Z,o as d,i as re,h as r,j as ne,m as w,x as se,y as nt,z as Me,v as Re,p as rt,A as ot,k as at,B as it,q as ct}from"../chunks/scheduler.DjxMk4xu.js";import{S as Ye,i as Ze,g as et,a as W,e as tt,t as B,c as qe,b as Ve,m as we,d as De}from"../chunks/index.C_kXhlPV.js";import{e as Ue}from"../chunks/each.D6YF6ztN.js";import{I as lt}from"../chunks/Icon.Dm_1iMdD.js";import{q as Ge}from"../chunks/stores.ASDDGO39.js";function ut(s){let e,t,l;return t=new lt({props:{icon:"mdi:close"}}),{c(){e=c("span"),qe(t.$$.fragment),this.h()},l(n){e=u(n,"SPAN",{class:!0});var o=x(e);Ve(t.$$.fragment,o),o.forEach(h),this.h()},h(){d(e,"class","text-error")},m(n,o){re(n,e,o),we(t,e,null),l=!0},i(n){l||(B(t.$$.fragment,n),l=!0)},o(n){W(t.$$.fragment,n),l=!1},d(n){n&&h(e),De(t)}}}function ft(s){let e,t,l;return t=new lt({props:{icon:"mdi:tick"}}),{c(){e=c("span"),qe(t.$$.fragment),this.h()},l(n){e=u(n,"SPAN",{class:!0});var o=x(e);Ve(t.$$.fragment,o),o.forEach(h),this.h()},h(){d(e,"class","text-success")},m(n,o){re(n,e,o),we(t,e,null),l=!0},i(n){l||(B(t.$$.fragment,n),l=!0)},o(n){W(t.$$.fragment,n),l=!1},d(n){n&&h(e),De(t)}}}function dt(s){let e,t,l,n,o,p,$=s[0].question.question+"",m,q;const H=[ft,ut],g=[];function S(v,C){var b;return v[1]&&((b=v[1])==null?void 0:b.text)===v[0].answer?0:1}return l=S(s),n=g[l]=H[l](s),{c(){e=c("div"),t=c("div"),n.c(),o=k(),p=c("div"),m=Y($),this.h()},l(v){e=u(v,"DIV",{class:!0});var C=x(e);t=u(C,"DIV",{class:!0});var b=x(t);n.l(b),b.forEach(h),o=E(C),p=u(C,"DIV",{class:!0});var T=x(p);m=Z(T,$),T.forEach(h),C.forEach(h),this.h()},h(){d(t,"class","w-6 h-6 inline-flex items-center"),d(p,"class","flex-1 font-semibold"),d(e,"class","flex items-center gap-1")},m(v,C){re(v,e,C),r(e,t),g[l].m(t,null),r(e,o),r(e,p),r(p,m),q=!0},p(v,[C]){let b=l;l=S(v),l!==b&&(et(),W(g[b],1,1,()=>{g[b]=null}),tt(),n=g[l],n||(n=g[l]=H[l](v),n.c()),B(n,1),n.m(t,null)),(!q||C&1)&&$!==($=v[0].question.question+"")&&ne(m,$)},i(v){q||(B(n),q=!0)},o(v){W(n),q=!1},d(v){v&&h(e),g[l].d()}}}function _t(s,e,t){let{history:l}=e,n=l.question.choices.find(o=>o.answer);return s.$$set=o=>{"history"in o&&t(0,l=o.history)},[l,n]}class ht extends Ye{constructor(e){super(),Ze(this,e,_t,dt,Xe,{history:0})}}function Je(s,e,t){const l=s.slice();return l[8]=e[t],l}function Ke(s){let e=`(${s[0][s[2].catalog].incorrect})`,t;return{c(){t=Y(e)},l(l){t=Z(l,e)},m(l,n){re(l,t,n)},p(l,n){n&5&&e!==(e=`(${l[0][l[2].catalog].incorrect})`)&&ne(t,e)},d(l){l&&h(t)}}}function We(s){let e,t;return e=new ht({props:{history:s[8]}}),{c(){qe(e.$$.fragment)},l(l){Ve(e.$$.fragment,l)},m(l,n){we(e,l,n),t=!0},p(l,n){const o={};n&18&&(o.history=l[8]),e.$set(o)},i(l){t||(B(e.$$.fragment,l),t=!0)},o(l){W(e.$$.fragment,l),t=!1},d(l){De(e,l)}}}function vt(s){let e,t,l="Verlauf",n,o,p,$,m=s[1].length+"",q,H,g,S="beantwortete Fragen",v,C,b,T=`${s[3]}%`,oe,ae,he,L,Oe="richtige Antworten",ve,j,D,ee=s[2].catalog+"",ie,me,ge,M,Pe="meisten Fehler in Fragenkatalog",pe,te,be,F,O,R,Ae="Letzten",xe,I,P,Ne="10",A,ze="20",N,He="50",V,Ce,ce,ye,U,Se="Fragen",$e,Q,Te="LÃ¶schen",ke,G,z,Ee,je,y=s[2].catalog!=="-"&&Ke(s),J=Ue(s[1].slice(0,s[4])),_=[];for(let a=0;a<J.length;a+=1)_[a]=We(Je(s,J,a));const st=a=>W(_[a],1,1,()=>{_[a]=null});return{c(){e=c("div"),t=c("h1"),t.textContent=l,n=k(),o=c("div"),p=c("div"),$=c("div"),q=Y(m),H=k(),g=c("h3"),g.textContent=S,v=k(),C=c("div"),b=c("div"),oe=Y(T),he=k(),L=c("h3"),L.textContent=Oe,ve=k(),j=c("div"),D=c("div"),ie=Y(ee),me=k(),y&&y.c(),ge=k(),M=c("h3"),M.textContent=Pe,pe=k(),te=c("div"),be=k(),F=c("div"),O=c("div"),R=c("span"),R.textContent=Ae,xe=k(),I=c("select"),P=c("option"),P.textContent=Ne,A=c("option"),A.textContent=ze,N=c("option"),N.textContent=He,V=c("option"),Ce=Y("Alle"),ye=k(),U=c("span"),U.textContent=Se,$e=k(),Q=c("button"),Q.textContent=Te,ke=k(),G=c("div");for(let a=0;a<_.length;a+=1)_[a].c();this.h()},l(a){e=u(a,"DIV",{});var i=x(e);t=u(i,"H1",{class:!0,"data-svelte-h":!0}),w(t)!=="svelte-dcbfll"&&(t.textContent=l),n=E(i),o=u(i,"DIV",{class:!0});var f=x(o);p=u(f,"DIV",{});var K=x(p);$=u(K,"DIV",{class:!0});var Fe=x($);q=Z(Fe,m),Fe.forEach(h),H=E(K),g=u(K,"H3",{class:!0,"data-svelte-h":!0}),w(g)!=="svelte-128dyt3"&&(g.textContent=S),K.forEach(h),v=E(f),C=u(f,"DIV",{class:!0});var ue=x(C);b=u(ue,"DIV",{class:!0,style:!0,role:!0});var Qe=x(b);oe=Z(Qe,T),Qe.forEach(h),he=E(ue),L=u(ue,"H3",{class:!0,"data-svelte-h":!0}),w(L)!=="svelte-grrgqt"&&(L.textContent=Oe),ue.forEach(h),ve=E(f),j=u(f,"DIV",{class:!0});var fe=x(j);D=u(fe,"DIV",{class:!0});var de=x(D);ie=Z(de,ee),me=E(de),y&&y.l(de),de.forEach(h),ge=E(fe),M=u(fe,"H3",{class:!0,"data-svelte-h":!0}),w(M)!=="svelte-1hgao6o"&&(M.textContent=Pe),fe.forEach(h),f.forEach(h),pe=E(i),te=u(i,"DIV",{class:!0}),x(te).forEach(h),be=E(i),F=u(i,"DIV",{class:!0});var _e=x(F);O=u(_e,"DIV",{});var X=x(O);R=u(X,"SPAN",{class:!0,"data-svelte-h":!0}),w(R)!=="svelte-1hd3l8e"&&(R.textContent=Ae),xe=E(X),I=u(X,"SELECT",{class:!0});var le=x(I);P=u(le,"OPTION",{"data-svelte-h":!0}),w(P)!=="svelte-18d3dpq"&&(P.textContent=Ne),A=u(le,"OPTION",{"data-svelte-h":!0}),w(A)!=="svelte-1k18a0a"&&(A.textContent=ze),N=u(le,"OPTION",{"data-svelte-h":!0}),w(N)!=="svelte-ujtx1y"&&(N.textContent=He),V=u(le,"OPTION",{});var Be=x(V);Ce=Z(Be,"Alle"),Be.forEach(h),le.forEach(h),ye=E(X),U=u(X,"SPAN",{class:!0,"data-svelte-h":!0}),w(U)!=="svelte-1bb7q2z"&&(U.textContent=Se),X.forEach(h),$e=E(_e),Q=u(_e,"BUTTON",{class:!0,"data-svelte-h":!0}),w(Q)!=="svelte-3moscc"&&(Q.textContent=Te),_e.forEach(h),ke=E(i),G=u(i,"DIV",{class:!0});var Le=x(G);for(let Ie=0;Ie<_.length;Ie+=1)_[Ie].l(Le);Le.forEach(h),i.forEach(h),this.h()},h(){d(t,"class","text-3xl text-center font-semibold mb-2"),d($,"class","text-lg font-bold text-center"),d(g,"class","text-sm font-semibold text-center opacity-70"),d(b,"class","radial-progress self-center text-primary"),d(b,"style",ae=`--value:${s[3]};`),d(b,"role","progressbar"),d(L,"class","text-sm font-semibold text-center opacity-70"),d(C,"class","inline-flex flex-col gap-2"),d(D,"class","text-lg font-bold text-center"),d(M,"class","text-sm font-semibold text-center opacity-70"),d(j,"class",""),d(o,"class","mb-4 grid grid-cols-1 lg:grid-cols-3 items-end"),d(te,"class","divider"),d(R,"class","font-bold"),P.__value=10,se(P,P.__value),A.__value=20,se(A,A.__value),N.__value=50,se(N,N.__value),V.__value=ce=s[1].length,se(V,V.__value),d(I,"class","select select-bordered select-sm"),s[4]===void 0&&nt(()=>s[6].call(I)),d(U,"class","font-bold"),d(Q,"class","btn btn-error btn-sm"),d(F,"class","flex justify-between mb-2"),d(G,"class","flex flex-col gap-1")},m(a,i){re(a,e,i),r(e,t),r(e,n),r(e,o),r(o,p),r(p,$),r($,q),r(p,H),r(p,g),r(o,v),r(o,C),r(C,b),r(b,oe),r(C,he),r(C,L),r(o,ve),r(o,j),r(j,D),r(D,ie),r(D,me),y&&y.m(D,null),r(j,ge),r(j,M),r(e,pe),r(e,te),r(e,be),r(e,F),r(F,O),r(O,R),r(O,xe),r(O,I),r(I,P),r(I,A),r(I,N),r(I,V),r(V,Ce),Me(I,s[4],!0),r(O,ye),r(O,U),r(F,$e),r(F,Q),r(e,ke),r(e,G);for(let f=0;f<_.length;f+=1)_[f]&&_[f].m(G,null);z=!0,Ee||(je=[Re(I,"change",s[6]),Re(Q,"click",s[7])],Ee=!0)},p(a,[i]){if((!z||i&2)&&m!==(m=a[1].length+"")&&ne(q,m),(!z||i&8)&&T!==(T=`${a[3]}%`)&&ne(oe,T),(!z||i&8&&ae!==(ae=`--value:${a[3]};`))&&d(b,"style",ae),(!z||i&4)&&ee!==(ee=a[2].catalog+"")&&ne(ie,ee),a[2].catalog!=="-"?y?y.p(a,i):(y=Ke(a),y.c(),y.m(D,null)):y&&(y.d(1),y=null),(!z||i&2&&ce!==(ce=a[1].length))&&(V.__value=ce,se(V,V.__value)),i&18&&Me(I,a[4]),i&18){J=Ue(a[1].slice(0,a[4]));let f;for(f=0;f<J.length;f+=1){const K=Je(a,J,f);_[f]?(_[f].p(K,i),B(_[f],1)):(_[f]=We(K),_[f].c(),B(_[f],1),_[f].m(G,null))}for(et(),f=J.length;f<_.length;f+=1)st(f);tt()}},i(a){if(!z){for(let i=0;i<J.length;i+=1)B(_[i]);z=!0}},o(a){_=_.filter(Boolean);for(let i=0;i<_.length;i+=1)W(_[i]);z=!1},d(a){a&&h(e),y&&y.d(),rt(_,a),Ee=!1,ot(je)}}}function mt(s,e){let t=e.question.choices.find(l=>l.answer);return t&&t.text===e.answer?s+1:s}function gt(s,e){let t=e.question.catalog,l=e.question.choices.find(n=>n.answer);return t&&l&&(t in s||(s[t]={correct:0,incorrect:0}),l.text===e.answer?s[t].correct+=1:s[t].incorrect+=1),s}function pt(s,e,t){let l,n,o,p,$,m;at(s,Ge,g=>t(1,m=g));function q(){l=it(this),t(4,l)}const H=()=>ct(Ge,m=[],m);return s.$$.update=()=>{s.$$.dirty&2&&t(5,n=m.reduce(mt,0)),s.$$.dirty&34&&t(3,o=m.length>0?Math.round(n/m.length*100):0),s.$$.dirty&2&&t(0,p=m.reduce(gt,{})),s.$$.dirty&3&&t(2,$=Object.keys(p).reduce((g,S)=>{let v=p[S].incorrect/m.length;return v>g.ratio?{ratio:v,catalog:S}:g},{ratio:0,catalog:"-"}))},t(4,l=10),[p,m,$,o,l,n,q,H]}class kt extends Ye{constructor(e){super(),Ze(this,e,pt,vt,Xe,{})}}export{kt as component};
