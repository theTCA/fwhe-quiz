import{d as V,a as c,f as p,c as X,s as Y}from"../chunks/NT8NRc0h.js";import{p as tt,e as Q,i as et,t as D,a as st,d as at,$ as rt,c as n,s as l,g as e,r as u,b as f,f as E,u as W}from"../chunks/DN6A0naj.js";import{b as w,i as x,a as A,s as ot,c as it}from"../chunks/kWoj3Qxl.js";import{h as nt,P as lt}from"../chunks/CGRCA45q.js";import{s as ut}from"../chunks/XaqINB52.js";import{r as ft}from"../chunks/BYfBAJde.js";import{B as ct}from"../chunks/WyEaBd6s.js";import{Q as dt}from"../chunks/CgF8TCyV.js";import{Q as vt}from"../chunks/BixLxKL9.js";import{Q as mt}from"../chunks/x6ihCF3_.js";import{f as j}from"../chunks/qVDKZIav.js";import{a as F}from"../chunks/CMGnaNZv.js";import{e as q,q as B}from"../chunks/GIsLircH.js";var _t=p('<button class="btn btn-primary">Weiter</button>'),pt=p('<button class="btn btn-primary">Wählen</button>'),bt=p('<button class="btn btn-outline btn-primary">Wählen</button>'),gt=p('<div class="grid grid-cols-2"><div class="mb-4 text-center text-sm">in Folge richtig: <span class="font-semibold"> </span></div></div> <!>',1),ht=p('<div><div class="relative flex w-full justify-between"><h1 class="mb-2 flex-1 text-center text-3xl font-semibold">Endlosquiz</h1> <!></div> <div class="mb-2"><!></div> <div class="mb-4 grid grid-cols-2 gap-2"><a class="btn">Zurück</a> <!></div> <!></div>');function Et(I,L){tt(L,!0);const d=()=>A(q,"$endlessQuizQuestions",H),v=()=>A(B,"$quizHistory",H),[H,M]=ot();d().length===0&&w(q,[...F(j)]);let a=Q(et(d()[0])),r=Q(""),m=Q(!1),b=Q(0);function N(){f(m,!1),d().length<=0&&w(q,[...F(j)]),f(a,d()[0],!0),f(r,"")}function P(){if(!e(a))return;"endless"in v()?it(B,W(v).endless=[{question:e(a),answer:e(r),date:new Date},...v().endless],W(v)):w(B,{...v(),endless:[{question:e(a),answer:e(r),date:new Date}]});let t=e(a).choices.find(s=>s.answer);t&&t.text===e(r)?f(b,e(b)+1):f(b,0),f(m,!0),w(q,[...d().slice(1)])}var k=ht();nt("kidtx7",t=>{at(()=>{rt.title=`Endlosquiz - ${lt}`})});var y=n(k),U=l(n(y),2);ct(U,{class:"absolute right-2 lg:right-0",get question(){return e(a)}}),u(y);var z=l(y,2),Z=n(z);{var G=t=>{vt(t,{get question(){return e(a)},get answer(){return e(r)},showCatalog:!0})},J=t=>{dt(t,{get question(){return e(a)},get answer(){return e(r)},set answer(s){f(r,s,!0)}})};x(Z,t=>{e(m)?t(G):t(J,!1)})}u(z);var $=l(z,2),C=n($),K=l(C,2);{var O=t=>{var s=_t();s.__click=N,c(t,s)},R=t=>{var s=X(),_=E(s);{var g=o=>{var i=pt();i.__click=P,c(o,i)},h=o=>{var i=bt();i.__click=P,c(o,i)};x(_,o=>{e(r).length>0?o(g):o(h,!1)},!0)}c(t,s)};x(K,t=>{e(m)?t(O):t(R,!1)})}u($);var S=l($,2);{var T=t=>{var s=gt(),_=E(s),g=n(_),h=l(n(g)),o=n(h,!0);u(h),u(g),u(_);var i=l(_,2);mt(i,{get question(){return e(a)}}),D(()=>Y(o,e(b))),c(t,s)};x(S,t=>{e(m)&&t(T)})}u(k),D(t=>ut(C,"href",t),[()=>ft("/")]),c(I,k),st(),M()}V(["click"]);export{Et as component};
