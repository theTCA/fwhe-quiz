import{s as S,a as b,e as _,l as z,f as u,g as k,c as v,b as p,m as A,o as x,i as E,h as g,n as I,p as M,t as P,d as w}from"../chunks/scheduler.CcYdLy-s.js";import{P as R,e as q}from"../chunks/public.DSIcp1HN.js";import{S as B,i as F}from"../chunks/index.BAfUXEGy.js";import{c as $}from"../chunks/data.BiDvi6Wg.js";function D(d,l,o){const h=d.slice();return h[5]=l[o],h}function V(d,l,o){const h=d.slice();return h[8]=l[o],h}function y(d){let l,o,h=d[8].title+"",c,m,s,r=d[8].value+"",n,e;return{c(){l=_("div"),o=_("h3"),c=P(h),m=b(),s=_("p"),n=P(r),e=b(),this.h()},l(a){l=v(a,"DIV",{});var t=p(l);o=v(t,"H3",{class:!0});var i=p(o);c=w(i,h),i.forEach(u),m=k(t),s=v(t,"P",{class:!0});var f=p(s);n=w(f,r),f.forEach(u),e=k(t),t.forEach(u),this.h()},h(){x(o,"class","text-sm lg:text-base opacity-60"),x(s,"class","font-bold text-xl lg:text-2xl break-words")},m(a,t){E(a,l,t),g(l,o),g(o,c),g(l,m),g(l,s),g(s,n),g(l,e)},p:I,d(a){a&&u(l)}}}function H(d){let l,o,h=d[5].name+"",c,m,s,r,n=q(d[5].elements),e=[];for(let a=0;a<n.length;a+=1)e[a]=y(V(d,n,a));return{c(){l=_("div"),o=_("h2"),c=P(h),m=b(),s=_("div");for(let a=0;a<e.length;a+=1)e[a].c();r=b(),this.h()},l(a){l=v(a,"DIV",{class:!0});var t=p(l);o=v(t,"H2",{class:!0});var i=p(o);c=w(i,h),i.forEach(u),m=k(t),s=v(t,"DIV",{class:!0});var f=p(s);for(let C=0;C<e.length;C+=1)e[C].l(f);f.forEach(u),r=k(t),t.forEach(u),this.h()},h(){x(o,"class","text-xl text-primary font-semibold text-center mb-2"),x(s,"class","grid grid-cols-1 lg:grid-cols-3 gap-2 text-center"),x(l,"class","mb-4 bg-base-200 rounded-md p-2")},m(a,t){E(a,l,t),g(l,o),g(o,c),g(l,m),g(l,s);for(let i=0;i<e.length;i+=1)e[i]&&e[i].m(s,null);g(l,r)},p(a,t){if(t&1){n=q(a[5].elements);let i;for(i=0;i<n.length;i+=1){const f=V(a,n,i);e[i]?e[i].p(f,t):(e[i]=y(f),e[i].c(),e[i].m(s,null))}for(;i<e.length;i+=1)e[i].d(1);e.length=n.length}},d(a){a&&u(l),M(e,a)}}}function K(d){let l,o,h,c="Statistik",m,s;document.title="Statistik - "+R;let r=q(d[0]),n=[];for(let e=0;e<r.length;e+=1)n[e]=H(D(d,r,e));return{c(){l=b(),o=_("div"),h=_("h1"),h.textContent=c,m=b(),s=_("div");for(let e=0;e<n.length;e+=1)n[e].c();this.h()},l(e){z("svelte-1ksxlvp",document.head).forEach(u),l=k(e),o=v(e,"DIV",{});var t=p(o);h=v(t,"H1",{class:!0,"data-svelte-h":!0}),A(h)!=="svelte-1tn25z8"&&(h.textContent=c),m=k(t),s=v(t,"DIV",{});var i=p(s);for(let f=0;f<n.length;f+=1)n[f].l(i);i.forEach(u),t.forEach(u),this.h()},h(){x(h,"class","text-3xl text-center font-semibold mb-2")},m(e,a){E(e,l,a),E(e,o,a),g(o,h),g(o,m),g(o,s);for(let t=0;t<n.length;t+=1)n[t]&&n[t].m(s,null)},p(e,[a]){if(a&1){r=q(e[0]);let t;for(t=0;t<r.length;t+=1){const i=D(e,r,t);n[t]?n[t].p(i,a):(n[t]=H(i),n[t].c(),n[t].m(s,null))}for(;t<n.length;t+=1)n[t].d(1);n.length=r.length}},i:I,o:I,d(e){e&&(u(l),u(o)),M(n,e)}}}function L(d){const l=$.map(s=>s.questions.map(r=>({...r,catalogue:s.name}))).flat(),o=$.reduce((s,r)=>r.questions.length>s.questions.length?r:s),h=$.reduce((s,r)=>r.questions.length<s.questions.length?r:s),c=l.reduce((s,r)=>{const n=r.choices.sort((e,a)=>e.text.length-a.text.length);return n.length===3&&(s.short+=n[0].answer?1:0,s.middle+=n[1].answer?1:0,s.long+=n[2].answer?1:0),s},{short:0,middle:0,long:0});return[[{name:"Fragenkataloge",elements:[{title:"gesamt",value:$.length},{title:"k체rzester Katalog",value:`${h.name} (${h.questions.length})`},{title:"l채ngster Katalog",value:`${o.name} (${o.questions.length})`}]},{name:"Fragen",elements:[{title:"gesamt",value:l.length},{title:"mit Bildern",value:l.filter(s=>s.image).length},{title:"mit Hilfestellung",value:l.filter(s=>s.help.length>0).length}]},{name:"Antworten",elements:[{title:"k체rzeste Richtige",value:`${c.short} (${Math.round(c.short/l.length*100)}%)`},{title:"mittlere Richtige",value:`${c.middle} (${Math.round(c.middle/l.length*100)}%)`},{title:"l채ngste Richtige",value:`${c.long} (${Math.round(c.long/l.length*100)}%)`}]}]]}class G extends B{constructor(l){super(),F(this,l,L,K,S,{})}}export{G as component};
