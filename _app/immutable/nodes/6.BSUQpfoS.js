import{s as Se,e as u,a as V,t as X,c as f,b as y,f as v,g as w,d as Y,o as _,i as G,h as o,j as ne,l as Me,m as z,p as Re,k as Ue,w as B,x as ze,y as ue,r as ge,z as Ge,q as qe,A as Pe}from"../chunks/scheduler.Dvs1iJHW.js";import{S as He,i as je,g as Le,a as Z,e as Fe,t as U,c as Ce,b as be,m as xe,d as Ee}from"../chunks/index.DXS40F_h.js";import{P as Je,e as Oe}from"../chunks/public.DSIcp1HN.js";import{b as Ve}from"../chunks/paths.BRdlBB8j.js";import{I as Qe}from"../chunks/Icon.BOwgWilo.js";import{q as me}from"../chunks/stores.CMvTHF_c.js";function Ke(n){let t,e,l;return e=new Qe({props:{icon:"mdi:close"}}),{c(){t=u("span"),Ce(e.$$.fragment),this.h()},l(s){t=f(s,"SPAN",{class:!0});var a=y(t);be(e.$$.fragment,a),a.forEach(v),this.h()},h(){_(t,"class","text-error")},m(s,a){G(s,t,a),xe(e,t,null),l=!0},i(s){l||(U(e.$$.fragment,s),l=!0)},o(s){Z(e.$$.fragment,s),l=!1},d(s){s&&v(t),Ee(e)}}}function We(n){let t,e,l;return e=new Qe({props:{icon:"mdi:tick"}}),{c(){t=u("span"),Ce(e.$$.fragment),this.h()},l(s){t=f(s,"SPAN",{class:!0});var a=y(t);be(e.$$.fragment,a),a.forEach(v),this.h()},h(){_(t,"class","text-success")},m(s,a){G(s,t,a),xe(e,t,null),l=!0},i(s){l||(U(e.$$.fragment,s),l=!0)},o(s){Z(e.$$.fragment,s),l=!1},d(s){s&&v(t),Ee(e)}}}function Xe(n){let t,e,l,s,a,r,p=n[0].question.question+"",x,c,E;const $=[We,Ke],d=[];function k(h,m){var g;return h[1]&&((g=h[1])==null?void 0:g.text)===h[0].answer?0:1}return l=k(n),s=d[l]=$[l](n),{c(){t=u("a"),e=u("div"),s.c(),a=V(),r=u("div"),x=X(p),this.h()},l(h){t=f(h,"A",{class:!0,target:!0,href:!0});var m=y(t);e=f(m,"DIV",{class:!0});var g=y(e);s.l(g),g.forEach(v),a=w(m),r=f(m,"DIV",{class:!0});var P=y(r);x=Y(P,p),P.forEach(v),m.forEach(v),this.h()},h(){_(e,"class","w-6 h-6 inline-flex items-center"),_(r,"class","flex-1 font-semibold"),_(t,"class","flex items-center gap-1"),_(t,"target","_blank"),_(t,"href",c=Ve+`/search#${n[0].question.id}`)},m(h,m){G(h,t,m),o(t,e),d[l].m(e,null),o(t,a),o(t,r),o(r,x),E=!0},p(h,[m]){let g=l;l=k(h),l!==g&&(Le(),Z(d[g],1,1,()=>{d[g]=null}),Fe(),s=d[l],s||(s=d[l]=$[l](h),s.c()),U(s,1),s.m(e,null)),(!E||m&1)&&p!==(p=h[0].question.question+"")&&ne(x,p),(!E||m&1&&c!==(c=Ve+`/search#${h[0].question.id}`))&&_(t,"href",c)},i(h){E||(U(s),E=!0)},o(h){Z(s),E=!1},d(h){h&&v(t),d[l].d()}}}function Ye(n,t,e){let{history:l}=t,s=l.question.choices.find(a=>a.answer);return n.$$set=a=>{"history"in a&&e(0,l=a.history)},[l,s]}class Ze extends He{constructor(t){super(),je(this,t,Ye,Xe,Se,{history:0})}}function we(n,t,e){const l=n.slice();return l[10]=t[e],l}function De(n){let t=`(${n[0][n[3].catalog].incorrect})`,e;return{c(){e=X(t)},l(l){e=Y(l,t)},m(l,s){G(l,e,s)},p(l,s){s&9&&t!==(t=`(${l[0][l[3].catalog].incorrect})`)&&ne(e,t)},d(l){l&&v(e)}}}function Ae(n){let t,e,l="Letzten",s,a,r,p="10",x,c="20",E,$="50",d,k,h,m,g,P="Fragen",L,F;return{c(){t=u("div"),e=u("span"),e.textContent=l,s=V(),a=u("select"),r=u("option"),r.textContent=p,x=u("option"),x.textContent=c,E=u("option"),E.textContent=$,d=u("option"),k=X("Alle"),m=V(),g=u("span"),g.textContent=P,this.h()},l(T){t=f(T,"DIV",{class:!0});var b=y(t);e=f(b,"SPAN",{class:!0,"data-svelte-h":!0}),z(e)!=="svelte-1hd3l8e"&&(e.textContent=l),s=w(b),a=f(b,"SELECT",{class:!0});var O=y(a);r=f(O,"OPTION",{"data-svelte-h":!0}),z(r)!=="svelte-18d3dpq"&&(r.textContent=p),x=f(O,"OPTION",{"data-svelte-h":!0}),z(x)!=="svelte-1k18a0a"&&(x.textContent=c),E=f(O,"OPTION",{"data-svelte-h":!0}),z(E)!=="svelte-ujtx1y"&&(E.textContent=$),d=f(O,"OPTION",{});var Q=y(d);k=Y(Q,"Alle"),Q.forEach(v),O.forEach(v),m=w(b),g=f(b,"SPAN",{class:!0,"data-svelte-h":!0}),z(g)!=="svelte-1bb7q2z"&&(g.textContent=P),b.forEach(v),this.h()},h(){_(e,"class","font-bold"),r.__value=10,B(r,r.__value),x.__value=20,B(x,x.__value),E.__value=50,B(E,E.__value),d.__value=h=n[1].length,B(d,d.__value),_(a,"class","select select-bordered select-sm"),n[5]===void 0&&ze(()=>n[8].call(a)),_(g,"class","font-bold"),_(t,"class","flex flex-row items-center gap-2")},m(T,b){G(T,t,b),o(t,e),o(t,s),o(t,a),o(a,r),o(a,x),o(a,E),o(a,d),o(d,k),ue(a,n[5],!0),o(t,m),o(t,g),L||(F=ge(a,"change",n[8]),L=!0)},p(T,b){b&2&&h!==(h=T[1].length)&&(d.__value=h,B(d,d.__value)),b&34&&ue(a,T[5])},d(T){T&&v(t),L=!1,F()}}}function Ne(n){let t,e;return t=new Ze({props:{history:n[10]}}),{c(){Ce(t.$$.fragment)},l(l){be(t.$$.fragment,l)},m(l,s){xe(t,l,s),e=!0},p(l,s){const a={};s&34&&(a.history=l[10]),t.$set(a)},i(l){e||(U(t.$$.fragment,l),e=!0)},o(l){Z(t.$$.fragment,l),e=!1},d(l){Ee(t,l)}}}function Te(n){let t,e,l="ältesten",s,a,r,p,x="10",c,E="20",$,d="50",k,h,m,g,P,L="Löschen",F,T;return{c(){t=u("div"),e=u("span"),e.textContent=l,s=V(),a=u("div"),r=u("select"),p=u("option"),p.textContent=x,c=u("option"),c.textContent=E,$=u("option"),$.textContent=d,k=u("option"),h=X("Alle"),g=V(),P=u("button"),P.textContent=L,this.h()},l(b){t=f(b,"DIV",{class:!0});var O=y(t);e=f(O,"SPAN",{class:!0,"data-svelte-h":!0}),z(e)!=="svelte-l61mnh"&&(e.textContent=l),s=w(O),a=f(O,"DIV",{class:!0});var Q=y(a);r=f(Q,"SELECT",{class:!0});var S=y(r);p=f(S,"OPTION",{"data-svelte-h":!0}),z(p)!=="svelte-18d3dpq"&&(p.textContent=x),c=f(S,"OPTION",{"data-svelte-h":!0}),z(c)!=="svelte-1k18a0a"&&(c.textContent=E),$=f(S,"OPTION",{"data-svelte-h":!0}),z($)!=="svelte-ujtx1y"&&($.textContent=d),k=f(S,"OPTION",{});var H=y(k);h=Y(H,"Alle"),H.forEach(v),S.forEach(v),g=w(Q),P=f(Q,"BUTTON",{class:!0,"data-svelte-h":!0}),z(P)!=="svelte-1t2ucov"&&(P.textContent=L),Q.forEach(v),O.forEach(v),this.h()},h(){_(e,"class","font-bold"),p.__value=10,B(p,p.__value),c.__value=20,B(c,c.__value),$.__value=50,B($,$.__value),k.__value=m=n[1].length,B(k,k.__value),_(r,"class","join-item select select-error select-sm"),n[2]===void 0&&ze(()=>n[9].call(r)),_(P,"class","join-item btn btn-error btn-sm"),_(a,"class","join"),_(t,"class","flex items-center gap-2")},m(b,O){G(b,t,O),o(t,e),o(t,s),o(t,a),o(a,r),o(r,p),o(r,c),o(r,$),o(r,k),o(k,h),ue(r,n[2],!0),o(a,g),o(a,P),F||(T=[ge(r,"change",n[9]),ge(P,"click",n[6])],F=!0)},p(b,O){O&2&&m!==(m=b[1].length)&&(k.__value=m,B(k,k.__value)),O&6&&ue(r,b[2])},d(b){b&&v(t),F=!1,Ge(T)}}}function et(n){let t,e,l,s="Verlauf",a,r,p,x,c=n[1].length+"",E,$,d,k="beantwortete Fragen",h,m,g,P=`${n[4]}%`,L,F,T,b,O="richtige Antworten",Q,S,H,te=n[3].catalog+"",se,fe,_e,J,ke="meisten Fehler in Fragenkatalog",de,le,he,j,oe,K,ve,R;document.title="Verlauf - "+Je;let D=n[3].catalog!=="-"&&De(n),A=n[1].length>0&&Ae(n),W=Oe(n[1].slice(0,n[5])),I=[];for(let i=0;i<W.length;i+=1)I[i]=Ne(we(n,W,i));const Be=i=>Z(I[i],1,1,()=>{I[i]=null});let N=n[1].length>0&&Te(n);return{c(){t=V(),e=u("div"),l=u("h1"),l.textContent=s,a=V(),r=u("div"),p=u("div"),x=u("div"),E=X(c),$=V(),d=u("h3"),d.textContent=k,h=V(),m=u("div"),g=u("div"),L=X(P),T=V(),b=u("h3"),b.textContent=O,Q=V(),S=u("div"),H=u("div"),se=X(te),fe=V(),D&&D.c(),_e=V(),J=u("h3"),J.textContent=ke,de=V(),le=u("div"),he=V(),j=u("div"),A&&A.c(),oe=V(),K=u("div");for(let i=0;i<I.length;i+=1)I[i].c();ve=V(),N&&N.c(),this.h()},l(i){Me("svelte-u3fr0m",document.head).forEach(v),t=w(i),e=f(i,"DIV",{});var C=y(e);l=f(C,"H1",{class:!0,"data-svelte-h":!0}),z(l)!=="svelte-dcbfll"&&(l.textContent=s),a=w(C),r=f(C,"DIV",{class:!0});var M=y(r);p=f(M,"DIV",{});var ae=y(p);x=f(ae,"DIV",{class:!0});var Ie=y(x);E=Y(Ie,c),Ie.forEach(v),$=w(ae),d=f(ae,"H3",{class:!0,"data-svelte-h":!0}),z(d)!=="svelte-128dyt3"&&(d.textContent=k),ae.forEach(v),h=w(M),m=f(M,"DIV",{class:!0});var re=y(m);g=f(re,"DIV",{class:!0,style:!0,role:!0});var ye=y(g);L=Y(ye,P),ye.forEach(v),T=w(re),b=f(re,"H3",{class:!0,"data-svelte-h":!0}),z(b)!=="svelte-grrgqt"&&(b.textContent=O),re.forEach(v),Q=w(M),S=f(M,"DIV",{class:!0});var ie=y(S);H=f(ie,"DIV",{class:!0});var ce=y(H);se=Y(ce,te),fe=w(ce),D&&D.l(ce),ce.forEach(v),_e=w(ie),J=f(ie,"H3",{class:!0,"data-svelte-h":!0}),z(J)!=="svelte-1hgao6o"&&(J.textContent=ke),ie.forEach(v),M.forEach(v),de=w(C),le=f(C,"DIV",{class:!0}),y(le).forEach(v),he=w(C),j=f(C,"DIV",{class:!0});var ee=y(j);A&&A.l(ee),oe=w(ee),K=f(ee,"DIV",{class:!0});var $e=y(K);for(let pe=0;pe<I.length;pe+=1)I[pe].l($e);$e.forEach(v),ve=w(ee),N&&N.l(ee),ee.forEach(v),C.forEach(v),this.h()},h(){_(l,"class","text-3xl text-center font-semibold mb-2"),_(x,"class","text-lg font-bold text-center"),_(d,"class","text-sm font-semibold text-center opacity-70"),_(g,"class","radial-progress self-center text-primary font-bold"),_(g,"style",F=`--value:${n[4]};`),_(g,"role","progressbar"),_(b,"class","text-sm font-semibold text-center opacity-70"),_(m,"class","inline-flex flex-col gap-2"),_(H,"class","text-lg font-bold text-center"),_(J,"class","text-sm font-semibold text-center opacity-70"),_(S,"class",""),_(r,"class","mb-4 grid grid-cols-1 lg:grid-cols-3 items-end"),_(le,"class","divider"),_(K,"class","flex flex-col gap-1"),_(j,"class","flex flex-col gap-4")},m(i,q){G(i,t,q),G(i,e,q),o(e,l),o(e,a),o(e,r),o(r,p),o(p,x),o(x,E),o(p,$),o(p,d),o(r,h),o(r,m),o(m,g),o(g,L),o(m,T),o(m,b),o(r,Q),o(r,S),o(S,H),o(H,se),o(H,fe),D&&D.m(H,null),o(S,_e),o(S,J),o(e,de),o(e,le),o(e,he),o(e,j),A&&A.m(j,null),o(j,oe),o(j,K);for(let C=0;C<I.length;C+=1)I[C]&&I[C].m(K,null);o(j,ve),N&&N.m(j,null),R=!0},p(i,[q]){if((!R||q&2)&&c!==(c=i[1].length+"")&&ne(E,c),(!R||q&16)&&P!==(P=`${i[4]}%`)&&ne(L,P),(!R||q&16&&F!==(F=`--value:${i[4]};`))&&_(g,"style",F),(!R||q&8)&&te!==(te=i[3].catalog+"")&&ne(se,te),i[3].catalog!=="-"?D?D.p(i,q):(D=De(i),D.c(),D.m(H,null)):D&&(D.d(1),D=null),i[1].length>0?A?A.p(i,q):(A=Ae(i),A.c(),A.m(j,oe)):A&&(A.d(1),A=null),q&34){W=Oe(i[1].slice(0,i[5]));let C;for(C=0;C<W.length;C+=1){const M=we(i,W,C);I[C]?(I[C].p(M,q),U(I[C],1)):(I[C]=Ne(M),I[C].c(),U(I[C],1),I[C].m(K,null))}for(Le(),C=W.length;C<I.length;C+=1)Be(C);Fe()}i[1].length>0?N?N.p(i,q):(N=Te(i),N.c(),N.m(j,null)):N&&(N.d(1),N=null)},i(i){if(!R){for(let q=0;q<W.length;q+=1)U(I[q]);R=!0}},o(i){I=I.filter(Boolean);for(let q=0;q<I.length;q+=1)Z(I[q]);R=!1},d(i){i&&(v(t),v(e)),D&&D.d(),A&&A.d(),Re(I,i),N&&N.d()}}}function tt(n,t){let e=t.question.choices.find(l=>l.answer);return e&&e.text===t.answer?n+1:n}function lt(n,t){let e=t.question.catalog,l=t.question.choices.find(s=>s.answer);return e&&l&&(e in n||(n[e]={correct:0,incorrect:0}),l.text===t.answer?n[e].correct+=1:n[e].incorrect+=1),n}function nt(n,t,e){let l,s,a,r,p,x,c;Ue(n,me,k=>e(1,c=k));function E(){c.length<=s?qe(me,c=[],c):qe(me,c=c.slice(0,c.length-s),c)}function $(){l=Pe(this),e(5,l)}function d(){s=Pe(this),e(2,s)}return n.$$.update=()=>{n.$$.dirty&2&&e(7,a=c.reduce(tt,0)),n.$$.dirty&130&&e(4,r=c.length>0?Math.round(a/c.length*100):0),n.$$.dirty&2&&e(0,p=c.reduce(lt,{})),n.$$.dirty&3&&e(3,x=Object.keys(p).reduce((k,h)=>{let m=p[h].incorrect/c.length;return m>k.ratio?{ratio:m,catalog:h}:k},{ratio:0,catalog:"-"}))},e(5,l=10),e(2,s=10),[p,c,s,x,r,l,E,a,$,d]}class ut extends He{constructor(t){super(),je(this,t,nt,et,Se,{})}}export{ut as component};
