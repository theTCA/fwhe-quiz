import{s as Ze,e as i,a as $,t as Y,c,b as p,f,g as E,d as Z,o as d,i as ee,h as r,j as oe,l as ot,m as P,x as re,y as at,z as Re,r as Ge,p as it,A as ct,k as ut,B as ft,q as dt}from"../chunks/scheduler.Niau2b56.js";import{S as et,i as tt,g as lt,a as W,e as st,t as Q,c as we,b as De,m as Pe,d as Ae}from"../chunks/index.GoLXg0II.js";import{P as _t,e as Je}from"../chunks/public.DSIcp1HN.js";import{I as nt}from"../chunks/Icon.DhrcX_6o.js";import{q as Ke}from"../chunks/stores.DC3zV9ml.js";function ht(s){let l,e,t;return e=new nt({props:{icon:"mdi:close"}}),{c(){l=i("span"),we(e.$$.fragment),this.h()},l(n){l=c(n,"SPAN",{class:!0});var u=p(l);De(e.$$.fragment,u),u.forEach(f),this.h()},h(){d(l,"class","text-error")},m(n,u){ee(n,l,u),Pe(e,l,null),t=!0},i(n){t||(Q(e.$$.fragment,n),t=!0)},o(n){W(e.$$.fragment,n),t=!1},d(n){n&&f(l),Ae(e)}}}function vt(s){let l,e,t;return e=new nt({props:{icon:"mdi:tick"}}),{c(){l=i("span"),we(e.$$.fragment),this.h()},l(n){l=c(n,"SPAN",{class:!0});var u=p(l);De(e.$$.fragment,u),u.forEach(f),this.h()},h(){d(l,"class","text-success")},m(n,u){ee(n,l,u),Pe(e,l,null),t=!0},i(n){t||(Q(e.$$.fragment,n),t=!0)},o(n){W(e.$$.fragment,n),t=!1},d(n){n&&f(l),Ae(e)}}}function mt(s){let l,e,t,n,u,h,C=s[0].question.question+"",v,k;const A=[vt,ht],x=[];function I(m,q){var b;return m[1]&&((b=m[1])==null?void 0:b.text)===m[0].answer?0:1}return t=I(s),n=x[t]=A[t](s),{c(){l=i("div"),e=i("div"),n.c(),u=$(),h=i("div"),v=Y(C),this.h()},l(m){l=c(m,"DIV",{class:!0});var q=p(l);e=c(q,"DIV",{class:!0});var b=p(e);n.l(b),b.forEach(f),u=E(q),h=c(q,"DIV",{class:!0});var w=p(h);v=Z(w,C),w.forEach(f),q.forEach(f),this.h()},h(){d(e,"class","w-6 h-6 inline-flex items-center"),d(h,"class","flex-1 font-semibold"),d(l,"class","flex items-center gap-1")},m(m,q){ee(m,l,q),r(l,e),x[t].m(e,null),r(l,u),r(l,h),r(h,v),k=!0},p(m,[q]){let b=t;t=I(m),t!==b&&(lt(),W(x[b],1,1,()=>{x[b]=null}),st(),n=x[t],n||(n=x[t]=A[t](m),n.c()),Q(n,1),n.m(e,null)),(!k||q&1)&&C!==(C=m[0].question.question+"")&&oe(v,C)},i(m){k||(Q(n),k=!0)},o(m){W(n),k=!1},d(m){m&&f(l),x[t].d()}}}function gt(s,l,e){let{history:t}=l,n=t.question.choices.find(u=>u.answer);return s.$$set=u=>{"history"in u&&e(0,t=u.history)},[t,n]}class pt extends et{constructor(l){super(),tt(this,l,gt,mt,Ze,{history:0})}}function We(s,l,e){const t=s.slice();return t[8]=l[e],t}function Xe(s){let l=`(${s[0][s[2].catalog].incorrect})`,e;return{c(){e=Y(l)},l(t){e=Z(t,l)},m(t,n){ee(t,e,n)},p(t,n){n&5&&l!==(l=`(${t[0][t[2].catalog].incorrect})`)&&oe(e,l)},d(t){t&&f(e)}}}function Ye(s){let l,e;return l=new pt({props:{history:s[8]}}),{c(){we(l.$$.fragment)},l(t){De(l.$$.fragment,t)},m(t,n){Pe(l,t,n),e=!0},p(t,n){const u={};n&18&&(u.history=t[8]),l.$set(u)},i(t){e||(Q(l.$$.fragment,t),e=!0)},o(t){W(l.$$.fragment,t),e=!1},d(t){Ae(l,t)}}}function bt(s){let l,e,t,n="Verlauf",u,h,C,v,k=s[1].length+"",A,x,I,m="beantwortete Fragen",q,b,w,te=`${s[3]}%`,ae,ie,me,M,Ne="richtige Antworten",ge,B,N,le=s[2].catalog+"",ce,pe,be,U,Oe="meisten Fehler in Fragenkatalog",Ce,se,xe,F,O,R,ze="Letzten",ye,V,z,He="10",H,Se="20",S,Te="50",D,$e,ue,Ee,G,je="Fragen",ke,L,Be="LÃ¶schen",Ie,J,T,qe,Fe;document.title="Verlauf - "+_t;let y=s[2].catalog!=="-"&&Xe(s),K=Je(s[1].slice(0,s[4])),_=[];for(let o=0;o<K.length;o+=1)_[o]=Ye(We(s,K,o));const rt=o=>W(_[o],1,1,()=>{_[o]=null});return{c(){l=$(),e=i("div"),t=i("h1"),t.textContent=n,u=$(),h=i("div"),C=i("div"),v=i("div"),A=Y(k),x=$(),I=i("h3"),I.textContent=m,q=$(),b=i("div"),w=i("div"),ae=Y(te),me=$(),M=i("h3"),M.textContent=Ne,ge=$(),B=i("div"),N=i("div"),ce=Y(le),pe=$(),y&&y.c(),be=$(),U=i("h3"),U.textContent=Oe,Ce=$(),se=i("div"),xe=$(),F=i("div"),O=i("div"),R=i("span"),R.textContent=ze,ye=$(),V=i("select"),z=i("option"),z.textContent=He,H=i("option"),H.textContent=Se,S=i("option"),S.textContent=Te,D=i("option"),$e=Y("Alle"),Ee=$(),G=i("span"),G.textContent=je,ke=$(),L=i("button"),L.textContent=Be,Ie=$(),J=i("div");for(let o=0;o<_.length;o+=1)_[o].c();this.h()},l(o){ot("svelte-u3fr0m",document.head).forEach(f),l=E(o),e=c(o,"DIV",{});var a=p(e);t=c(a,"H1",{class:!0,"data-svelte-h":!0}),P(t)!=="svelte-dcbfll"&&(t.textContent=n),u=E(a),h=c(a,"DIV",{class:!0});var j=p(h);C=c(j,"DIV",{});var fe=p(C);v=c(fe,"DIV",{class:!0});var Le=p(v);A=Z(Le,k),Le.forEach(f),x=E(fe),I=c(fe,"H3",{class:!0,"data-svelte-h":!0}),P(I)!=="svelte-128dyt3"&&(I.textContent=m),fe.forEach(f),q=E(j),b=c(j,"DIV",{class:!0});var de=p(b);w=c(de,"DIV",{class:!0,style:!0,role:!0});var Qe=p(w);ae=Z(Qe,te),Qe.forEach(f),me=E(de),M=c(de,"H3",{class:!0,"data-svelte-h":!0}),P(M)!=="svelte-grrgqt"&&(M.textContent=Ne),de.forEach(f),ge=E(j),B=c(j,"DIV",{class:!0});var _e=p(B);N=c(_e,"DIV",{class:!0});var he=p(N);ce=Z(he,le),pe=E(he),y&&y.l(he),he.forEach(f),be=E(_e),U=c(_e,"H3",{class:!0,"data-svelte-h":!0}),P(U)!=="svelte-1hgao6o"&&(U.textContent=Oe),_e.forEach(f),j.forEach(f),Ce=E(a),se=c(a,"DIV",{class:!0}),p(se).forEach(f),xe=E(a),F=c(a,"DIV",{class:!0});var ve=p(F);O=c(ve,"DIV",{});var X=p(O);R=c(X,"SPAN",{class:!0,"data-svelte-h":!0}),P(R)!=="svelte-1hd3l8e"&&(R.textContent=ze),ye=E(X),V=c(X,"SELECT",{class:!0});var ne=p(V);z=c(ne,"OPTION",{"data-svelte-h":!0}),P(z)!=="svelte-18d3dpq"&&(z.textContent=He),H=c(ne,"OPTION",{"data-svelte-h":!0}),P(H)!=="svelte-1k18a0a"&&(H.textContent=Se),S=c(ne,"OPTION",{"data-svelte-h":!0}),P(S)!=="svelte-ujtx1y"&&(S.textContent=Te),D=c(ne,"OPTION",{});var Me=p(D);$e=Z(Me,"Alle"),Me.forEach(f),ne.forEach(f),Ee=E(X),G=c(X,"SPAN",{class:!0,"data-svelte-h":!0}),P(G)!=="svelte-1bb7q2z"&&(G.textContent=je),X.forEach(f),ke=E(ve),L=c(ve,"BUTTON",{class:!0,"data-svelte-h":!0}),P(L)!=="svelte-3moscc"&&(L.textContent=Be),ve.forEach(f),Ie=E(a),J=c(a,"DIV",{class:!0});var Ue=p(J);for(let Ve=0;Ve<_.length;Ve+=1)_[Ve].l(Ue);Ue.forEach(f),a.forEach(f),this.h()},h(){d(t,"class","text-3xl text-center font-semibold mb-2"),d(v,"class","text-lg font-bold text-center"),d(I,"class","text-sm font-semibold text-center opacity-70"),d(w,"class","radial-progress self-center text-primary font-bold"),d(w,"style",ie=`--value:${s[3]};`),d(w,"role","progressbar"),d(M,"class","text-sm font-semibold text-center opacity-70"),d(b,"class","inline-flex flex-col gap-2"),d(N,"class","text-lg font-bold text-center"),d(U,"class","text-sm font-semibold text-center opacity-70"),d(B,"class",""),d(h,"class","mb-4 grid grid-cols-1 lg:grid-cols-3 items-end"),d(se,"class","divider"),d(R,"class","font-bold"),z.__value=10,re(z,z.__value),H.__value=20,re(H,H.__value),S.__value=50,re(S,S.__value),D.__value=ue=s[1].length,re(D,D.__value),d(V,"class","select select-bordered select-sm"),s[4]===void 0&&at(()=>s[6].call(V)),d(G,"class","font-bold"),d(L,"class","btn btn-error btn-sm"),d(F,"class","flex justify-between mb-2"),d(J,"class","flex flex-col gap-1")},m(o,g){ee(o,l,g),ee(o,e,g),r(e,t),r(e,u),r(e,h),r(h,C),r(C,v),r(v,A),r(C,x),r(C,I),r(h,q),r(h,b),r(b,w),r(w,ae),r(b,me),r(b,M),r(h,ge),r(h,B),r(B,N),r(N,ce),r(N,pe),y&&y.m(N,null),r(B,be),r(B,U),r(e,Ce),r(e,se),r(e,xe),r(e,F),r(F,O),r(O,R),r(O,ye),r(O,V),r(V,z),r(V,H),r(V,S),r(V,D),r(D,$e),Re(V,s[4],!0),r(O,Ee),r(O,G),r(F,ke),r(F,L),r(e,Ie),r(e,J);for(let a=0;a<_.length;a+=1)_[a]&&_[a].m(J,null);T=!0,qe||(Fe=[Ge(V,"change",s[6]),Ge(L,"click",s[7])],qe=!0)},p(o,[g]){if((!T||g&2)&&k!==(k=o[1].length+"")&&oe(A,k),(!T||g&8)&&te!==(te=`${o[3]}%`)&&oe(ae,te),(!T||g&8&&ie!==(ie=`--value:${o[3]};`))&&d(w,"style",ie),(!T||g&4)&&le!==(le=o[2].catalog+"")&&oe(ce,le),o[2].catalog!=="-"?y?y.p(o,g):(y=Xe(o),y.c(),y.m(N,null)):y&&(y.d(1),y=null),(!T||g&2&&ue!==(ue=o[1].length))&&(D.__value=ue,re(D,D.__value)),g&18&&Re(V,o[4]),g&18){K=Je(o[1].slice(0,o[4]));let a;for(a=0;a<K.length;a+=1){const j=We(o,K,a);_[a]?(_[a].p(j,g),Q(_[a],1)):(_[a]=Ye(j),_[a].c(),Q(_[a],1),_[a].m(J,null))}for(lt(),a=K.length;a<_.length;a+=1)rt(a);st()}},i(o){if(!T){for(let g=0;g<K.length;g+=1)Q(_[g]);T=!0}},o(o){_=_.filter(Boolean);for(let g=0;g<_.length;g+=1)W(_[g]);T=!1},d(o){o&&(f(l),f(e)),y&&y.d(),it(_,o),qe=!1,ct(Fe)}}}function Ct(s,l){let e=l.question.choices.find(t=>t.answer);return e&&e.text===l.answer?s+1:s}function xt(s,l){let e=l.question.catalog,t=l.question.choices.find(n=>n.answer);return e&&t&&(e in s||(s[e]={correct:0,incorrect:0}),t.text===l.answer?s[e].correct+=1:s[e].incorrect+=1),s}function yt(s,l,e){let t,n,u,h,C,v;ut(s,Ke,x=>e(1,v=x));function k(){t=ft(this),e(4,t)}const A=()=>dt(Ke,v=[],v);return s.$$.update=()=>{s.$$.dirty&2&&e(5,n=v.reduce(Ct,0)),s.$$.dirty&34&&e(3,u=v.length>0?Math.round(n/v.length*100):0),s.$$.dirty&2&&e(0,h=v.reduce(xt,{})),s.$$.dirty&3&&e(2,C=Object.keys(h).reduce((x,I)=>{let m=h[I].incorrect/v.length;return m>x.ratio?{ratio:m,catalog:I}:x},{ratio:0,catalog:"-"}))},e(4,t=10),[h,v,C,u,t,n,k,A]}class Vt extends et{constructor(l){super(),tt(this,l,yt,bt,Ze,{})}}export{Vt as component};
