import{s as Ze,e as i,a as $,t as Y,c,b as p,f,g as k,d as Z,o as d,i as ee,h as r,j as oe,l as ot,m as O,x as re,y as at,z as Ue,r as Ge,p as it,A as ct,k as ut,B as ft,q as dt}from"../chunks/scheduler.Niau2b56.js";import{S as et,i as tt,g as lt,a as W,e as st,t as B,c as we,b as De,m as Oe,d as Pe}from"../chunks/index.GoLXg0II.js";import{e as Je}from"../chunks/each.D6YF6ztN.js";import{I as nt}from"../chunks/Icon.DhrcX_6o.js";import{q as Ke}from"../chunks/stores.lTK9lxU7.js";function _t(s){let l,e,t;return e=new nt({props:{icon:"mdi:close"}}),{c(){l=i("span"),we(e.$$.fragment),this.h()},l(n){l=c(n,"SPAN",{class:!0});var u=p(l);De(e.$$.fragment,u),u.forEach(f),this.h()},h(){d(l,"class","text-error")},m(n,u){ee(n,l,u),Oe(e,l,null),t=!0},i(n){t||(B(e.$$.fragment,n),t=!0)},o(n){W(e.$$.fragment,n),t=!1},d(n){n&&f(l),Pe(e)}}}function ht(s){let l,e,t;return e=new nt({props:{icon:"mdi:tick"}}),{c(){l=i("span"),we(e.$$.fragment),this.h()},l(n){l=c(n,"SPAN",{class:!0});var u=p(l);De(e.$$.fragment,u),u.forEach(f),this.h()},h(){d(l,"class","text-success")},m(n,u){ee(n,l,u),Oe(e,l,null),t=!0},i(n){t||(B(e.$$.fragment,n),t=!0)},o(n){W(e.$$.fragment,n),t=!1},d(n){n&&f(l),Pe(e)}}}function vt(s){let l,e,t,n,u,h,x=s[0].question.question+"",v,E;const P=[ht,_t],C=[];function I(m,q){var b;return m[1]&&((b=m[1])==null?void 0:b.text)===m[0].answer?0:1}return t=I(s),n=C[t]=P[t](s),{c(){l=i("div"),e=i("div"),n.c(),u=$(),h=i("div"),v=Y(x),this.h()},l(m){l=c(m,"DIV",{class:!0});var q=p(l);e=c(q,"DIV",{class:!0});var b=p(e);n.l(b),b.forEach(f),u=k(q),h=c(q,"DIV",{class:!0});var w=p(h);v=Z(w,x),w.forEach(f),q.forEach(f),this.h()},h(){d(e,"class","w-6 h-6 inline-flex items-center"),d(h,"class","flex-1 font-semibold"),d(l,"class","flex items-center gap-1")},m(m,q){ee(m,l,q),r(l,e),C[t].m(e,null),r(l,u),r(l,h),r(h,v),E=!0},p(m,[q]){let b=t;t=I(m),t!==b&&(lt(),W(C[b],1,1,()=>{C[b]=null}),st(),n=C[t],n||(n=C[t]=P[t](m),n.c()),B(n,1),n.m(e,null)),(!E||q&1)&&x!==(x=m[0].question.question+"")&&oe(v,x)},i(m){E||(B(n),E=!0)},o(m){W(n),E=!1},d(m){m&&f(l),C[t].d()}}}function mt(s,l,e){let{history:t}=l,n=t.question.choices.find(u=>u.answer);return s.$$set=u=>{"history"in u&&e(0,t=u.history)},[t,n]}class gt extends et{constructor(l){super(),tt(this,l,mt,vt,Ze,{history:0})}}function We(s,l,e){const t=s.slice();return t[8]=l[e],t}function Xe(s){let l=`(${s[0][s[2].catalog].incorrect})`,e;return{c(){e=Y(l)},l(t){e=Z(t,l)},m(t,n){ee(t,e,n)},p(t,n){n&5&&l!==(l=`(${t[0][t[2].catalog].incorrect})`)&&oe(e,l)},d(t){t&&f(e)}}}function Ye(s){let l,e;return l=new gt({props:{history:s[8]}}),{c(){we(l.$$.fragment)},l(t){De(l.$$.fragment,t)},m(t,n){Oe(l,t,n),e=!0},p(t,n){const u={};n&18&&(u.history=t[8]),l.$set(u)},i(t){e||(B(l.$$.fragment,t),e=!0)},o(t){W(l.$$.fragment,t),e=!1},d(t){Pe(l,t)}}}function pt(s){let l,e,t,n="Verlauf",u,h,x,v,E=s[1].length+"",P,C,I,m="beantwortete Fragen",q,b,w,te=`${s[3]}%`,ae,ie,me,M,Ae="richtige Antworten",ge,j,A,le=s[2].catalog+"",ce,pe,be,R,Ne="meisten Fehler in Fragenkatalog",xe,se,Ce,L,N,U,ze="Letzten",ye,V,z,He="10",H,Te="20",T,Se="50",D,$e,ue,ke,G,Fe="Fragen",Ee,Q,je="Löschen",Ie,J,S,qe,Le,y=s[2].catalog!=="-"&&Xe(s),K=Je(s[1].slice(0,s[4])),_=[];for(let o=0;o<K.length;o+=1)_[o]=Ye(We(s,K,o));const rt=o=>W(_[o],1,1,()=>{_[o]=null});return{c(){l=$(),e=i("div"),t=i("h1"),t.textContent=n,u=$(),h=i("div"),x=i("div"),v=i("div"),P=Y(E),C=$(),I=i("h3"),I.textContent=m,q=$(),b=i("div"),w=i("div"),ae=Y(te),me=$(),M=i("h3"),M.textContent=Ae,ge=$(),j=i("div"),A=i("div"),ce=Y(le),pe=$(),y&&y.c(),be=$(),R=i("h3"),R.textContent=Ne,xe=$(),se=i("div"),Ce=$(),L=i("div"),N=i("div"),U=i("span"),U.textContent=ze,ye=$(),V=i("select"),z=i("option"),z.textContent=He,H=i("option"),H.textContent=Te,T=i("option"),T.textContent=Se,D=i("option"),$e=Y("Alle"),ke=$(),G=i("span"),G.textContent=Fe,Ee=$(),Q=i("button"),Q.textContent=je,Ie=$(),J=i("div");for(let o=0;o<_.length;o+=1)_[o].c();this.h()},l(o){ot("svelte-1kbw3tx",document.head).forEach(f),l=k(o),e=c(o,"DIV",{});var a=p(e);t=c(a,"H1",{class:!0,"data-svelte-h":!0}),O(t)!=="svelte-dcbfll"&&(t.textContent=n),u=k(a),h=c(a,"DIV",{class:!0});var F=p(h);x=c(F,"DIV",{});var fe=p(x);v=c(fe,"DIV",{class:!0});var Qe=p(v);P=Z(Qe,E),Qe.forEach(f),C=k(fe),I=c(fe,"H3",{class:!0,"data-svelte-h":!0}),O(I)!=="svelte-128dyt3"&&(I.textContent=m),fe.forEach(f),q=k(F),b=c(F,"DIV",{class:!0});var de=p(b);w=c(de,"DIV",{class:!0,style:!0,role:!0});var Be=p(w);ae=Z(Be,te),Be.forEach(f),me=k(de),M=c(de,"H3",{class:!0,"data-svelte-h":!0}),O(M)!=="svelte-grrgqt"&&(M.textContent=Ae),de.forEach(f),ge=k(F),j=c(F,"DIV",{class:!0});var _e=p(j);A=c(_e,"DIV",{class:!0});var he=p(A);ce=Z(he,le),pe=k(he),y&&y.l(he),he.forEach(f),be=k(_e),R=c(_e,"H3",{class:!0,"data-svelte-h":!0}),O(R)!=="svelte-1hgao6o"&&(R.textContent=Ne),_e.forEach(f),F.forEach(f),xe=k(a),se=c(a,"DIV",{class:!0}),p(se).forEach(f),Ce=k(a),L=c(a,"DIV",{class:!0});var ve=p(L);N=c(ve,"DIV",{});var X=p(N);U=c(X,"SPAN",{class:!0,"data-svelte-h":!0}),O(U)!=="svelte-1hd3l8e"&&(U.textContent=ze),ye=k(X),V=c(X,"SELECT",{class:!0});var ne=p(V);z=c(ne,"OPTION",{"data-svelte-h":!0}),O(z)!=="svelte-18d3dpq"&&(z.textContent=He),H=c(ne,"OPTION",{"data-svelte-h":!0}),O(H)!=="svelte-1k18a0a"&&(H.textContent=Te),T=c(ne,"OPTION",{"data-svelte-h":!0}),O(T)!=="svelte-ujtx1y"&&(T.textContent=Se),D=c(ne,"OPTION",{});var Me=p(D);$e=Z(Me,"Alle"),Me.forEach(f),ne.forEach(f),ke=k(X),G=c(X,"SPAN",{class:!0,"data-svelte-h":!0}),O(G)!=="svelte-1bb7q2z"&&(G.textContent=Fe),X.forEach(f),Ee=k(ve),Q=c(ve,"BUTTON",{class:!0,"data-svelte-h":!0}),O(Q)!=="svelte-3moscc"&&(Q.textContent=je),ve.forEach(f),Ie=k(a),J=c(a,"DIV",{class:!0});var Re=p(J);for(let Ve=0;Ve<_.length;Ve+=1)_[Ve].l(Re);Re.forEach(f),a.forEach(f),this.h()},h(){document.title="Verlauf - HFLÜ-Trainer",d(t,"class","text-3xl text-center font-semibold mb-2"),d(v,"class","text-lg font-bold text-center"),d(I,"class","text-sm font-semibold text-center opacity-70"),d(w,"class","radial-progress self-center text-primary font-bold"),d(w,"style",ie=`--value:${s[3]};`),d(w,"role","progressbar"),d(M,"class","text-sm font-semibold text-center opacity-70"),d(b,"class","inline-flex flex-col gap-2"),d(A,"class","text-lg font-bold text-center"),d(R,"class","text-sm font-semibold text-center opacity-70"),d(j,"class",""),d(h,"class","mb-4 grid grid-cols-1 lg:grid-cols-3 items-end"),d(se,"class","divider"),d(U,"class","font-bold"),z.__value=10,re(z,z.__value),H.__value=20,re(H,H.__value),T.__value=50,re(T,T.__value),D.__value=ue=s[1].length,re(D,D.__value),d(V,"class","select select-bordered select-sm"),s[4]===void 0&&at(()=>s[6].call(V)),d(G,"class","font-bold"),d(Q,"class","btn btn-error btn-sm"),d(L,"class","flex justify-between mb-2"),d(J,"class","flex flex-col gap-1")},m(o,g){ee(o,l,g),ee(o,e,g),r(e,t),r(e,u),r(e,h),r(h,x),r(x,v),r(v,P),r(x,C),r(x,I),r(h,q),r(h,b),r(b,w),r(w,ae),r(b,me),r(b,M),r(h,ge),r(h,j),r(j,A),r(A,ce),r(A,pe),y&&y.m(A,null),r(j,be),r(j,R),r(e,xe),r(e,se),r(e,Ce),r(e,L),r(L,N),r(N,U),r(N,ye),r(N,V),r(V,z),r(V,H),r(V,T),r(V,D),r(D,$e),Ue(V,s[4],!0),r(N,ke),r(N,G),r(L,Ee),r(L,Q),r(e,Ie),r(e,J);for(let a=0;a<_.length;a+=1)_[a]&&_[a].m(J,null);S=!0,qe||(Le=[Ge(V,"change",s[6]),Ge(Q,"click",s[7])],qe=!0)},p(o,[g]){if((!S||g&2)&&E!==(E=o[1].length+"")&&oe(P,E),(!S||g&8)&&te!==(te=`${o[3]}%`)&&oe(ae,te),(!S||g&8&&ie!==(ie=`--value:${o[3]};`))&&d(w,"style",ie),(!S||g&4)&&le!==(le=o[2].catalog+"")&&oe(ce,le),o[2].catalog!=="-"?y?y.p(o,g):(y=Xe(o),y.c(),y.m(A,null)):y&&(y.d(1),y=null),(!S||g&2&&ue!==(ue=o[1].length))&&(D.__value=ue,re(D,D.__value)),g&18&&Ue(V,o[4]),g&18){K=Je(o[1].slice(0,o[4]));let a;for(a=0;a<K.length;a+=1){const F=We(o,K,a);_[a]?(_[a].p(F,g),B(_[a],1)):(_[a]=Ye(F),_[a].c(),B(_[a],1),_[a].m(J,null))}for(lt(),a=K.length;a<_.length;a+=1)rt(a);st()}},i(o){if(!S){for(let g=0;g<K.length;g+=1)B(_[g]);S=!0}},o(o){_=_.filter(Boolean);for(let g=0;g<_.length;g+=1)W(_[g]);S=!1},d(o){o&&(f(l),f(e)),y&&y.d(),it(_,o),qe=!1,ct(Le)}}}function bt(s,l){let e=l.question.choices.find(t=>t.answer);return e&&e.text===l.answer?s+1:s}function xt(s,l){let e=l.question.catalog,t=l.question.choices.find(n=>n.answer);return e&&t&&(e in s||(s[e]={correct:0,incorrect:0}),t.text===l.answer?s[e].correct+=1:s[e].incorrect+=1),s}function Ct(s,l,e){let t,n,u,h,x,v;ut(s,Ke,C=>e(1,v=C));function E(){t=ft(this),e(4,t)}const P=()=>dt(Ke,v=[],v);return s.$$.update=()=>{s.$$.dirty&2&&e(5,n=v.reduce(bt,0)),s.$$.dirty&34&&e(3,u=v.length>0?Math.round(n/v.length*100):0),s.$$.dirty&2&&e(0,h=v.reduce(xt,{})),s.$$.dirty&3&&e(2,x=Object.keys(h).reduce((C,I)=>{let m=h[I].incorrect/v.length;return m>C.ratio?{ratio:m,catalog:I}:C},{ratio:0,catalog:"-"}))},e(4,t=10),[h,v,x,u,t,n,E,P]}class qt extends et{constructor(l){super(),tt(this,l,Ct,pt,Ze,{})}}export{qt as component};
